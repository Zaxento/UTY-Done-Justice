<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-450</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>SCR_BORDERSETUP()
scr_battlegroup()
global.mercyuse = -1
global.inbattle = 1
global.itemused = 0
global.flag[271] = 0
runaway = 0
global.msg[4] = global.msg[0]
if (global.actfirst == 0 &amp;&amp; global.extraintro == 0)
{
    global.myfight = 0
    global.mnfight = 0
    global.typer = 1
    instance_create(global.idealborder[0], global.idealborder[2], OBJ_WRITER)
}
global.turn = 0
global.turntimer = -1
won = 0
global.heard = 0
global.tmsg = "%%%"
if (global.lv &gt; 20)
    global.lv = 20
global.maxhp = (16 + (global.lv * 4))
if (global.hp &gt; (global.maxhp + 15))
    global.hp = (global.maxhp + 15)
global.at = (8 + (global.lv * 2))
global.df = (9 + ceil((global.lv / 4)))
if (global.lv == 20)
{
    global.at = 30
    global.df = 30
    global.maxhp = 99
}
tempat = global.at
tempdf = global.df
tempspd = global.sp
active = false
alarm[0] = 3
healed = 0
drawrect = 1
drawbinfo = 1
rearrange = 0
suppress_border = 0
if global.screen_border_active
{
    if (global.battlegroup == 100 || global.battlegroup == 101 || global.battlegroup == 255 || global.battlegroup == 256)
    {
        suppress_border = 1
        scr_enable_screen_border(false)
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if suppress_border
    scr_enable_screen_border(true)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>active = true

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (control_check(0) == 1)
    event_user(0)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var writer, pad, i, len;
SCR_BORDERSETUP(0, 0, 0, 0, 0)
currentplace = global.bmenuno
if ((global.monster[0] == false))
{
    if ((global.monster[1] == false))
    {
        if ((global.monster[2] == false))
        {
            if ((won == 0))
            {
                won = 1
                global.xp += global.xpreward[3]
                global.gold += global.goldreward[3]
                tlvl = global.lv
                script_execute(scr_levelup)
                if ((global.flag[15] == 0))
                {
                    audio_stop_sound(global.batmusic)
                }
                global.border = 0
                SCR_BORDERSETUP()
                global.msg[0] = scr_gettext("obj_battlecontroller_286", string(global.xpreward[3]), string(global.goldreward[3]))
                if ((tlvl != global.lv))
                {
                    global.msg[0] += scr_gettext("obj_battlecontroller_287") // &amp;* Your LOVE increased.
                    audio_play_sound(snd_levelup,80,false)
                }
                global.msg[0] += "/%"
                if ((global.extraintro == 2))
                {
                    global.typer = 5
                    audio_stop_sound(global.currentsong)
                    audio_stop_sound(mus_battle1)
                    global.currentsong = mus_toomuch
                    caster_loop(global.currentsong, 1, 1)
                    global.flag[221] = 1
                    global.msg[0] = global.msg[2]
                    global.myfight = 0
                    global.mnfight = 2
                    obj_heart.x = -200
                }
                global.msc = 0
                writer = instance_create(global.idealborder[0], global.idealborder[2], OBJ_WRITER)
                writer.writingxend += 20
                exit
            }
        }
    }
}
global.inv = 30
if instance_exists(obj_undyne_ex)
    global.inv = (30 - global.lv)
if (instance_exists(obj_spiderb) &amp;&amp; (global.armor != 44))
    global.inv += 20
if ((global.armor == 44))
    global.inv += 30
if ((global.armor == 64))
    global.inv += 15
if ((global.weapon == 45))
    global.inv += 15
if ((global.inv &lt; 15))
    global.inv = 15
if ((global.armor == 46) || (global.armor == 64))
{
    if ((global.mnfight == 0) &amp;&amp; (global.myfight == 0))
    {
        if ((((global.turn + 1) % 2) == 0))
        {
            if ((healed == 0))
            {
                healed = 1
                if ((global.hp &lt; global.maxhp))
                    global.hp += 1
                audio_play_sound(snd_power,80,false)
            }
        }
    }
    else
        healed = 0
}
if ((global.mnfight == 0) &amp;&amp; (global.myfight == 0))
{
    global.typer = 1
    if ((active == true))
    {
        if ((control_check_pressed(1) == 0))
        {
            if control_check_pressed(0)
            {
                if ((global.bmenuno == 0))
                {
                    global.tmsg = global.msg[0]
                    global.talked = -1
                    global.bmenucoord[2] = 0
                    global.bmenuno = (global.bmenucoord[0] + 1)
                    if instance_exists(obj_talkbt)
                    {
                        if ((obj_talkbt.spec == 1))
                        {
                            if ((global.bmenuno == 2))
                            {
                                global.rmsg = global.msg[0]
                                global.mytarget = 0
                                with (OBJ_WRITER)
                                    halt = 3
                                with (OBJ_INSTAWRITER)
                                    halt = 3
                                global.bmenuno = 10
                                global.msc = (1000 + global.monstertype[global.mytarget])
                                instance_create(global.idealborder[0], global.idealborder[2], OBJ_INSTAWRITER)
                                control_clear(0)
                                SCR_TEXT(global.msc)
                                if ((global.choices[global.bmenucoord[2]] == 0))
                                    global.bmenucoord[2] = 0
                            }
                        }
                    }
                    if ((global.bmenuno == 1) || (global.bmenuno == 2) || (global.bmenuno == 11))
                    {
                        global.msc = 3
                        if ((global.monster[global.bmenucoord[1]] == false))
                            global.bmenucoord[1] += 1
                        if ((global.monster[global.bmenucoord[1]] == false))
                            global.bmenucoord[1] += 1
                        if ((global.monster[0] == false) &amp;&amp; (global.monster[2] == false))
                            global.bmenucoord[1] = 1
                        if ((global.bmenucoord[1] &gt; 2))
                        {
                            global.bmenucoord[1] = 0
                            if ((global.monster[0] == false))
                                global.bmenucoord[1] = 1
                            if ((global.monster[1] == false))
                                global.bmenucoord[1] = 2
                            if ((global.monster[2] == false))
                                global.bmenucoord[1] = 0
                        }
                    }
                    if ((global.bmenuno == 3))
                    {
                        if ((global.item[0] != 0))
                        {
                            global.bmenucoord[3] = 0
                            script_execute(scr_itemnameb)
                            if ((global.language == "ja"))
                            {
                                global.msc = 0
                                global.msg[0] = " "
                                global.msg[1] = "%%%"
                            }
                            else
                            {
                                pad = " "
                                for (i = 0; i &lt; 8; i++)
                                {
                                    len = 9
                                    if (((i % 2) == 0))
                                        len = 10
                                    while ((string_length(global.itemnameb[i]) &lt; len))
                                        global.itemnameb[i] += pad
                                }
                                global.msc = 9
                            }
                        }
                        else
                            global.bmenuno = 0
                    }
                    if ((global.bmenuno == 4))
                        global.msc = 7
                    audio_play_sound(snd_select,80,false)
                    with (OBJ_WRITER)
                        halt = 3
                    with (OBJ_INSTAWRITER)
                        halt = 3
                    instance_create(global.idealborder[0], global.idealborder[2], OBJ_INSTAWRITER)
                    control_clear(0)
                    exit
                }
                if ((global.bmenuno == 1))
                {
                    global.mytarget = global.bmenucoord[1]
                    OBJ_WRITER.halt = 3
                    OBJ_INSTAWRITER.halt = 3
                    global.myfight = 1
                    obj_heart.x = -200
                    audio_play_sound(snd_select,80,false)
                    script_execute(scr_attack)
                    control_clear(0)
                }
                if ((global.bmenuno == 10))
                {
                    global.talked = global.bmenucoord[2]
                    global.mntrg = global.monsterinstance[global.mytarget]
                    with (global.mntrg)
                        whatiheard = global.talked
                    OBJ_WRITER.halt = 3
                    OBJ_INSTAWRITER.halt = 3
                    audio_play_sound(snd_select,80,false)
                    global.myfight = 2
                    obj_heart.x = -200
                    control_clear(0)
                }
                if ((global.bmenuno == 2))
                {
                    global.mytarget = global.bmenucoord[1]
                    OBJ_WRITER.halt = 3
                    OBJ_INSTAWRITER.halt = 3
                    global.bmenuno = 10
                    global.msc = (1000 + global.monstertype[global.mytarget])
                    instance_create(global.idealborder[0], global.idealborder[2], OBJ_INSTAWRITER)
                    control_clear(0)
                    SCR_TEXT(global.msc)
                    if ((global.choices[global.bmenucoord[2]] == 0))
                        global.bmenucoord[2] = 0
                }
                if ((global.bmenuno &gt;= 3) &amp;&amp; (global.bmenuno &lt; 4))
                {
                    if ((obj_time.right == 0) &amp;&amp; (obj_time.left == 0))
                    {
                        OBJ_WRITER.halt = 3
                        itempos = (global.bmenucoord[3] + ((global.bmenuno - 3) * 8))
                        thisitemid = global.item[itempos]
                        script_execute(scr_itemuseb, itempos, thisitemid)
                        global.talked = 91
                        global.myfight = 4
                        obj_heart.x = -200
                        audio_play_sound(snd_select,80,false)
                    }
                    control_clear(0)
                }
                if ((global.bmenuno == 4))
                {
                    OBJ_WRITER.halt = 3
                    global.mercyuse = global.bmenucoord[4]
                    if ((global.mercyuse == 1))
                    {
                        script_execute(scr_runaway)
                        global.talked = 90
                    }
                    if ((runaway == 0))
                        audio_play_sound(snd_select,80,false)
                    global.myfight = 4
                    obj_heart.x = -200
                    control_clear(0)
                }
            }
        }
    }
    if ((active == true))
    {
        if control_check_pressed(1)
        {
            if ((global.bmenuno != 0) &amp;&amp; (global.bmenuno &lt; 6))
            {
                OBJ_WRITER.halt = 3
                OBJ_INSTAWRITER.halt = 3
                global.bmenuno = 0
                global.typer = 1
                global.msg[0] = global.tmsg
                global.msc = 0
                instance_create(global.idealborder[0], global.idealborder[2], OBJ_WRITER)
                control_clear(1)
            }
            if ((global.bmenuno == 10))
            {
                OBJ_WRITER.halt = 3
                OBJ_INSTAWRITER.halt = 3
                global.bmenuno = 2
                global.typer = 1
                global.msc = 3
                if instance_exists(obj_talkbt)
                {
                    if ((obj_talkbt.spec == 1))
                    {
                        global.bmenuno = 0
                        global.typer = 1
                        global.msg[0] = global.rmsg
                        global.msc = 0
                    }
                }
                instance_create(global.idealborder[0], global.idealborder[2], OBJ_INSTAWRITER)
                control_clear(1)
            }
            if ((global.bmenuno == 11))
            {
                OBJ_WRITER.halt = 3
                OBJ_INSTAWRITER.halt = 3
                global.bmenuno = 3
                global.typer = 1
                global.msc = 0
                instance_create(global.idealborder[0], global.idealborder[2], OBJ_INSTAWRITER)
                control_clear(1)
            }
        }
    }
    if ((global.bmenuno == 1) || (global.bmenuno == 2) || (global.bmenuno == 11))
    {
        obj_heart.x = (global.idealborder[0] + 32)
        obj_heart.y = scr_battlemenu_cursor_y(global.bmenucoord[1])
    }
    if ((global.bmenuno == 10))
    {
        if ((global.bmenucoord[2] &lt;= 2))
            obj_heart.x = (global.idealborder[0] + 32)
        else
            obj_heart.x = (global.idealborder[0] + 292)
        if ((global.bmenucoord[2] &lt;= 2))
            obj_heart.y = scr_battlemenu_cursor_y(global.bmenucoord[2])
        else
            obj_heart.y = scr_battlemenu_cursor_y((global.bmenucoord[2] - 3))
    }
    if ((global.bmenuno &gt;= 3) &amp;&amp; (global.bmenuno &lt; 4))
    {
        if ((global.language == "ja"))
        {
            obj_heart.y = scr_battlemenu_cursor_y(global.bmenucoord[3])
            obj_heart.x = (global.idealborder[0] + 32)
        }
        else
        {
            if ((global.bmenucoord[3] &lt;= 1))
                obj_heart.y = (global.idealborder[2] + 28)
            else
                obj_heart.y = (global.idealborder[2] + 60)
            if ((global.bmenucoord[3] == 0) || (global.bmenucoord[3] == 2))
                obj_heart.x = (global.idealborder[0] + 32)
            else
                obj_heart.x = (global.idealborder[0] + 280)
        }
    }
    if ((global.bmenuno == 4))
    {
        obj_heart.x = (global.idealborder[0] + 32)
        obj_heart.y = scr_battlemenu_cursor_y(global.bmenucoord[4])
    }
}
if ((active == true))
{
    if control_check_pressed(1)
    {
        if ((global.mnfight == 0) &amp;&amp; (global.flag[21] == 0))
        {
            if ((instance_number(OBJ_WRITER) &gt; 0))
                OBJ_WRITER.stringpos = string_length(OBJ_WRITER.originalstring)
            control_clear(1)
        }
    }
}
if ((global.myfight == 1) || (global.myfight == 2) || (global.mnfight == 3))
    obj_heart.x = -400
if ((global.mnfight == 3))
{
    global.border = 0
    script_execute(SCR_BORDERSETUP)
    if ((obj_lborder.x == global.idealborder[0]))
    {
        global.typer = 1
        global.msc = 0
        instance_create(global.idealborder[0], global.idealborder[2], OBJ_WRITER)
        global.bmenuno = 0
        global.myfight = 0
        global.mnfight = 0
        global.turn += 1
        global.mercyuse = -1
    }
}
if ((global.myfight == 3))
{
    if instance_exists(OBJ_WRITER)
    {
        if ((OBJ_WRITER.halt &gt; false))
        {
            obj_heart.x = ((global.idealborder[0] + 32) + (global.bmenucoord[6] * 252))
            obj_heart.y = (global.idealborder[2] + 92)
            if ((global.language == "ja"))
                obj_heart.y += 8
            if control_check_pressed(0)
            {
                global.heard = 0
                global.talked = (6 + global.bmenucoord[6])
                with (global.monsterinstance[global.mytarget])
                    whatiheard = global.talked
                obj_heart.x = -200
                OBJ_WRITER.halt = 3
                global.myfight = 2
            }
        }
    }
}
if ((global.myfight == 4))
{
    if ((runaway == 0))
    {
        obj_heart.x = -200
        if ((instance_exists(OBJ_WRITER) == 0))
        {
            global.myfight = 0
            global.mnfight = 1
            control_clear(0)
        }
    }
}
if ((global.hp &lt;= 0))
    script_execute(scr_gameoverb)
if ((currentplace &lt; global.bmenuno))
{
    if ((audio_is_playing(snd_select) != 1))
        audio_play_sound(snd_select,80,false)
}
if ((global.debug == true) &amp;&amp; (keyboard_check_pressed(vk_space) == 1))
    global.turntimer = 2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="57">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (debug_mode == true)
    global.turntimer += 10
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (debug_mode == true)
    global.turntimer -= 10
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (won == 1)
{
    if (instance_exists(OBJ_WRITER) == 0)
        room_goto(global.currentroom)
}
if (won == 1)
{
    if (instance_exists(OBJ_WRITER) == 1)
    {
        if (OBJ_WRITER.halt != false)
            room_goto(global.currentroom)
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.at = (8 + (global.lv * 2))
global.df = (9 + ceil((global.lv / 4)))
global.sp = tempspd
global.flag[78] = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var maxwidth, i, name, width, j, ch, lineheight, y_start, first, xx, yy, lineheader, num_items, arrow_yofs, spr;
if (global.turntimer &gt; 0)
{
    depth = -1000
    draw_set_color(c_red)
    global.turntimer -= 1
}
if instance_exists(obj_uborder)
{
    depth = 5
    draw_set_color(c_black)
    if (drawrect == 1)
        ossafe_fill_rectangle((obj_uborder.x + 5), (obj_uborder.y + 5), obj_rborder.x, obj_dborder.y)
}
if (background_color != c_white &amp;&amp; drawbinfo == 1)
    script_execute(scr_binfowrite)
if (global.bmenuno == 1 &amp;&amp; global.myfight == 0 &amp;&amp; global.mnfight == 0)
{
    maxwidth = 0
    for (i = 0; i &lt; 3; i++)
    {
        if (global.monster[i] == true)
        {
            name = global.monstername[i]
            if (global.language == "ja")
            {
                width = 0
                for (j = 1; j &lt;= string_length(name); j++)
                {
                    ch = ord(string_char_at(name, j))
                    if (ch == 32 || ch &gt;= 65377)
                        width += 13
                    else if (ch &lt; 8192)
                        width += 16
                    else
                        width += 26
                }
            }
            else
                width = (string_length(name) * 16)
            if (width &gt; maxwidth)
                maxwidth = width
        }
    }
    xwrite = (190 + maxwidth)
    for (i = 0; i &lt; 3; i++)
    {
        if (global.monster[i] == true)
        {
            draw_set_color(c_red)
            lineheight = 32
            y_start = 280
            if (global.language == "ja")
                lineheight = 36
            draw_rectangle(xwrite, (y_start + (i * lineheight)), (xwrite + 100), ((y_start + (i * lineheight)) + 16), false)
            draw_set_color(c_lime)
            draw_rectangle(xwrite, (y_start + (i * lineheight)), (xwrite + ((global.monsterhp[i] / global.monstermaxhp[i]) * 100)), ((y_start + (i * lineheight)) + 16), false)
        }
    }
}
if (global.language == "ja" &amp;&amp; global.bmenuno &gt;= 3 &amp;&amp; global.bmenuno &lt; 4 &amp;&amp; global.myfight == 0 &amp;&amp; global.mnfight == 0)
{
    first = ((global.bmenuno - 3) * 8)
    scr_setfont(fnt_main)
    draw_set_color(c_white)
    xx = (global.idealborder[0] + 20)
    yy = (global.idealborder[2] + 20)
    lineheader = scr_gettext("item_menub_header") //    * 
    i = 0
    while (i &lt; 3 &amp;&amp; global.item[(first + i)] != 0)
    {
        draw_text(xx, (yy + (i * 36)), (lineheader + global.itemnameb[(first + i)]))
        i++
    }
    num_items = 8
    while (num_items &gt; 0 &amp;&amp; global.item[(num_items - 1)] == 0)
        num_items--
    if (num_items &gt; 3)
    {
        xx = (global.idealborder[1] - 30)
        yy = (floor(((global.idealborder[2] + global.idealborder[3]) / 2)) - (5 * (2 + num_items)))
        arrow_yofs = round((min(((obj_time.time % 30) / 30), 0.5) * 6))
        if (first &gt; 0)
            draw_sprite(spr_bitem_ja_arrow, 0, xx, (yy - arrow_yofs))
        yy += 10
        for (i = 0; i &lt; num_items; i++)
        {
            if ((first + global.bmenucoord[3]) == i)
                spr = spr_bitem_ja_largedot
            else
                spr = spr_bitem_ja_smalldot
            draw_sprite(spr, 0, xx, yy)
            yy += 10
        }
        if ((first + 3) &lt; num_items)
            draw_sprite_ext(spr_bitem_ja_arrow, 0, xx, ((yy + 10) + arrow_yofs), 1, -1, 0, c_white, 1)
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="117">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.debug == true)
{
    global.mercy = 0
    global.at = 999
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="80">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (keyboard_check(ord("O")) &amp;&amp; global.debug == true)
{
    obj_monsterparent.mercymod = 999999
    global.mercy = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.hp = 1
audio_play_sound(snd_power,80,false)
audio_sound_pitch(snd_power,0.5)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="50">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (debug_mode = true)
    room_speed = round((room_speed * 2))
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="49">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.debug == true)
    room_speed = round((room_speed / 2))
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="46">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (debug_mode = true)
    global.hp = 999
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="40">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var oldcoord, tempcheck, mv;
if (global.mnfight == 0)
{
    if (global.bmenuno == 1 || global.bmenuno == 2 || global.bmenuno == 11)
    {
        oldcoord = global.bmenucoord[1]
        global.bmenucoord[1] += 1
        if (global.bmenucoord[1] &gt; 2)
            global.bmenucoord[1] = 0
        if (global.monster[0] == false &amp;&amp; global.monster[2] == false)
            global.bmenucoord[1] = 1
        if (global.bmenucoord[1] == 0 &amp;&amp; global.monster[0] == false)
            global.bmenucoord[1] = 1
        if (global.bmenucoord[1] == 1 &amp;&amp; global.monster[1] == false)
            global.bmenucoord[1] = 2
        if (global.bmenucoord[1] == 2 &amp;&amp; global.monster[2] == false)
            global.bmenucoord[1] = 0
        if (global.bmenucoord[1] != oldcoord)
            audio_play_sound(snd_squeak,80,false)
    }
    if (global.bmenuno == 10)
    {
        oldcoord = global.bmenucoord[2]
        if (global.bmenucoord[2] != 2 &amp;&amp; global.bmenucoord[2] != 5)
            global.bmenucoord[2] += 1
        else
            global.bmenucoord[2] -= 2
        if (global.choices[global.bmenucoord[2]] == 0 &amp;&amp; global.bmenucoord[2] &gt; 2)
            global.bmenucoord[2] = 3
        if (global.choices[global.bmenucoord[2]] == 0 &amp;&amp; global.bmenucoord[2] &lt;= 2)
            global.bmenucoord[2] = 0
        if (global.choices[0] == 1 &amp;&amp; global.choices[1] == 0 &amp;&amp; global.choices[2] == 0 &amp;&amp; global.choices[3] == 0 &amp;&amp; global.choices[4] == 0 &amp;&amp; global.choices[5] == 0)
            global.bmenucoord[2] = 0
        if (global.bmenucoord[2] != oldcoord)
            audio_play_sound(snd_squeak,80,false)
    }
    if (global.bmenuno &gt;= 3 &amp;&amp; global.bmenuno &lt; 4)
    {
        tempcheck = (global.bmenucoord[3] + ((global.bmenuno - 3) * 8))
        if (global.language == "ja")
        {
            if (tempcheck &lt; 7 &amp;&amp; global.item[(tempcheck + 1)] != 0)
            {
                if (global.bmenucoord[3] &lt; 2)
                    global.bmenucoord[3] += 1
                else
                    global.bmenuno += 0.125
                audio_play_sound(snd_squeak,80,false)
            }
        }
        else
        {
            mv = 0
            if (global.bmenucoord[3] == 2 || global.bmenucoord[3] == 3)
            {
                global.bmenucoord[3] -= 2
                mv = 1
            }
            if (mv == 0)
            {
                if (global.bmenucoord[3] == 0 || global.bmenucoord[3] == 1)
                {
                    global.bmenucoord[3] += 2
                    if (global.item[(tempcheck + 2)] == 0)
                        global.bmenucoord[3] -= 2
                    mv = 1
                }
            }
            if (mv != 0)
                audio_play_sound(snd_squeak,80,false)
        }
    }
    if (global.bmenuno == 4)
    {
        oldcoord = global.bmenucoord[4]
        if (global.bmenucoord[4] == 0 &amp;&amp; global.mercy &lt; 1)
            global.bmenucoord[4] = 1
        else
            global.bmenucoord[4] = 0
        if (global.bmenucoord[4] != oldcoord)
            audio_play_sound(snd_squeak,80,false)
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="39">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var oldcoord, mv, tempcheck;
if (global.mnfight == 0)
{
    if (global.bmenuno == 0)
    {
        oldcoord = global.bmenucoord[0]
        global.bmenucoord[0] += 1
        if (global.bmenucoord[0] &gt; 3)
            global.bmenucoord[0] = 0
        if (global.mercy == 2 &amp;&amp; global.bmenucoord[0] == 3)
            global.bmenucoord[0] = 0
        if (global.mercy == 3)
            global.bmenucoord[0] = 1
        if (global.bmenucoord[0] != oldcoord)
            audio_play_sound(snd_squeak,80,false)
    }
    if (global.bmenuno == 10)
    {
        oldcoord = global.bmenucoord[2]
        if (global.bmenucoord[2] &lt;= 2)
            global.bmenucoord[2] += 3
        else
            global.bmenucoord[2] -= 3
        if (global.choices[global.bmenucoord[2]] == 0)
            global.bmenucoord[2] -= 1
        if (global.choices[0] == 1 &amp;&amp; global.choices[1] == 0 &amp;&amp; global.choices[2] == 0 &amp;&amp; global.choices[3] == 0 &amp;&amp; global.choices[4] == 0 &amp;&amp; global.choices[5] == 0)
            global.bmenucoord[2] = 0
        if (global.bmenucoord[2] != oldcoord)
            audio_play_sound(snd_squeak,80,false)
    }
    if (global.bmenuno == 6)
    {
        if (global.bmenucoord[6] == 0)
            global.bmenucoord[6] += 1
        else
            global.bmenucoord[6] -= 1
        audio_play_sound(snd_squeak,80,false)
    }
    if (global.myfight != 4)
    {
        if (global.language == "ja")
        {
        }
        else
        {
            mv = 0
            if (global.bmenuno == 3)
            {
                tempcheck = global.bmenuno
                if (global.bmenucoord[3] == 0)
                {
                    if (global.item[1] != 0)
                        global.bmenucoord[3] = 1
                    mv = 1
                }
                if (mv == 0)
                {
                    if (global.bmenucoord[3] == 1)
                    {
                        if (global.item[4] != 0)
                        {
                            global.bmenucoord[3] = 0
                            global.bmenuno = 3.5
                        }
                        else
                            global.bmenucoord[3] = 0
                        mv = 1
                    }
                }
                if (global.bmenucoord[3] == 2)
                {
                    if (global.item[3] != 0)
                        global.bmenucoord[3] = 3
                    mv = 1
                }
                if (mv == 0)
                {
                    if (global.bmenucoord[3] == 3)
                    {
                        if (global.item[6] != 0)
                        {
                            global.bmenucoord[3] = 2
                            global.bmenuno = 3.5
                        }
                        else
                            global.bmenucoord[3] = 2
                        mv = 1
                    }
                }
                if (mv == 1)
                    audio_play_sound(snd_squeak,80,false)
                if (global.bmenuno != tempcheck)
                    script_execute(scr_itemrewrite)
            }
            if (mv == 0 &amp;&amp; global.bmenuno == 3.5)
            {
                tempcheck = global.bmenuno
                if (global.bmenucoord[3] == 1)
                {
                    global.bmenucoord[3] = 0
                    global.bmenuno = 3
                    mv = 1
                }
                if (mv == 0)
                {
                    if (global.bmenucoord[3] == 0)
                    {
                        if (global.item[5] != 0)
                            global.bmenucoord[3] = 1
                        else
                        {
                            global.bmenucoord[3] = 0
                            global.bmenuno = 3
                        }
                        mv = 1
                    }
                }
                if (mv == 0)
                {
                    if (global.bmenucoord[3] == 3)
                    {
                        global.bmenucoord[3] = 2
                        global.bmenuno = 3
                        mv = 1
                    }
                }
                if (mv == 0)
                {
                    if (global.bmenucoord[3] == 2)
                    {
                        if (global.item[7] != 0)
                            global.bmenucoord[3] = 3
                        else
                        {
                            global.bmenucoord[3] = 2
                            global.bmenuno = 3
                        }
                        mv = 1
                    }
                }
                if (mv == 1)
                    audio_play_sound(snd_squeak,80,false)
                if (global.bmenuno != tempcheck)
                    script_execute(scr_itemrewrite)
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="38">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var oldcoord, tempcheck, mv;
if (keyboard_check_pressed(vk_down) == 0)
{
    if (global.mnfight == 0)
    {
        if (global.bmenuno == 1 || global.bmenuno == 2 || global.bmenuno == 11)
        {
            oldcoord = global.bmenucoord[1]
            global.bmenucoord[1] -= 1
            if (global.bmenucoord[1] &lt; 0)
                global.bmenucoord[1] = 2
            if (global.monster[0] == false &amp;&amp; global.monster[2] == false)
                global.bmenucoord[1] = 1
            if (global.bmenucoord[1] == 2 &amp;&amp; global.monster[2] == false)
                global.bmenucoord[1] = 1
            if (global.bmenucoord[1] == 1 &amp;&amp; global.monster[1] == false)
                global.bmenucoord[1] = 0
            if (global.bmenucoord[1] == 0 &amp;&amp; global.monster[0] == false)
                global.bmenucoord[1] = 2
            if (global.bmenucoord[1] != oldcoord)
                audio_play_sound(snd_squeak,80,false)
        }
        if (global.bmenuno == 10)
        {
            oldcoord = global.bmenucoord[2]
            if (global.bmenucoord[2] != 0 &amp;&amp; global.bmenucoord[2] != 3)
                global.bmenucoord[2] -= 1
            else
                global.bmenucoord[2] += 2
            if (global.choices[global.bmenucoord[2]] == 0)
                global.bmenucoord[2] -= 1
            if (global.choices[global.bmenucoord[2]] == 0)
                global.bmenucoord[2] -= 1
            if (global.choices[0] == 1 &amp;&amp; global.choices[1] == 0 &amp;&amp; global.choices[2] == 0 &amp;&amp; global.choices[3] == 0 &amp;&amp; global.choices[4] == 0 &amp;&amp; global.choices[5] == 0)
                global.bmenucoord[2] = 0
            if (global.bmenucoord[2] != oldcoord)
                audio_play_sound(snd_squeak,80,false)
        }
        if (global.bmenuno &gt;= 3 &amp;&amp; global.bmenuno &lt; 4)
        {
            tempcheck = (global.bmenucoord[3] + ((global.bmenuno - 3) * 8))
            if (global.language == "ja")
            {
                if (tempcheck &gt; 0)
                {
                    if (global.bmenucoord[3] &gt; 0)
                        global.bmenucoord[3] -= 1
                    else
                        global.bmenuno -= 0.125
                    audio_play_sound(snd_squeak,80,false)
                }
            }
            else
            {
                mv = 0
                tempcheck = global.bmenucoord[3]
                if (global.bmenuno == 3.5)
                    tempcheck += 4
                if (global.bmenucoord[3] == 2 || global.bmenucoord[3] == 3)
                {
                    global.bmenucoord[3] -= 2
                    mv = 1
                }
                if (mv == 0)
                {
                    if (global.bmenucoord[3] == 0 || global.bmenucoord[3] == 1)
                    {
                        global.bmenucoord[3] += 2
                        if (global.item[(tempcheck + 2)] == 0)
                            global.bmenucoord[3] -= 2
                        mv = 1
                    }
                }
                if (mv != 0)
                    audio_play_sound(snd_squeak,80,false)
            }
        }
        if (global.bmenuno == 4)
        {
            oldcoord = global.bmenucoord[4]
            if (global.bmenucoord[4] == 0 &amp;&amp; global.mercy &lt; 1)
                global.bmenucoord[4] = 1
            else
                global.bmenucoord[4] = 0
            if (global.bmenucoord[4] != oldcoord)
                audio_play_sound(snd_squeak,80,false)
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="37">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var oldcoord, mv, tempcheck;
if (keyboard_check_pressed(vk_right) == 0)
{
    if (global.mnfight == 0)
    {
        if (global.bmenuno == 0)
        {
            oldcoord = global.bmenucoord[0]
            global.bmenucoord[0] -= 1
            if (global.bmenucoord[0] &lt; 0)
                global.bmenucoord[0] = 3
            if (global.mercy == 2 &amp;&amp; global.bmenucoord[0] == 3)
                global.bmenucoord[0] = 2
            if (global.mercy == 3)
                global.bmenucoord[0] = 1
            if (global.bmenucoord[0] != oldcoord)
                audio_play_sound(snd_squeak,80,false)
        }
        if (global.myfight != 4)
        {
            if (global.language == "ja")
            {
            }
            else
            {
                mv = 0
                if (global.bmenuno == 3)
                {
                    tempcheck = global.bmenuno
                    if (global.bmenucoord[3] == 1)
                    {
                        global.bmenucoord[3] = 0
                        mv = 1
                    }
                    if (mv == 0)
                    {
                        if (global.bmenucoord[3] == 0)
                        {
                            if (global.item[5] != 0)
                            {
                                global.bmenucoord[3] = 1
                                global.bmenuno = 3.5
                                mv = 1
                            }
                            else if (global.item[4] != 0)
                            {
                                global.bmenucoord[3] = 0
                                global.bmenuno = 3.5
                                mv = 1
                            }
                            else if (global.item[1] != 0)
                            {
                                global.bmenucoord[3] = 1
                                mv = 1
                            }
                        }
                    }
                    if (mv == 0)
                    {
                        if (global.bmenucoord[3] == 3)
                        {
                            global.bmenucoord[3] = 2
                            mv = 1
                        }
                    }
                    if (mv == 0)
                    {
                        if (global.bmenucoord[3] == 2)
                        {
                            if (global.item[7] != 0)
                            {
                                global.bmenucoord[3] = 3
                                global.bmenuno = 3.5
                                mv = 1
                            }
                            else if (global.item[6] != 0)
                            {
                                global.bmenucoord[3] = 2
                                global.bmenuno = 3.5
                                mv = 1
                            }
                            else if (global.item[3] != 0)
                            {
                                global.bmenucoord[3] = 3
                                mv = 1
                            }
                        }
                    }
                    if (mv != 0)
                        audio_play_sound(snd_squeak,80,false)
                    if (global.bmenuno != tempcheck)
                        script_execute(scr_itemrewrite)
                }
                if (mv == 0)
                {
                    if (global.bmenuno == 3.5)
                    {
                        tempcheck = global.bmenuno
                        if (global.bmenucoord[3] == 1)
                        {
                            global.bmenucoord[3] = 0
                            mv = 1
                        }
                        if (mv == 0)
                        {
                            if (global.bmenucoord[3] == 0)
                            {
                                mv = 1
                                global.bmenuno = 3
                                global.bmenucoord[3] = 1
                            }
                        }
                        if (mv == 0)
                        {
                            if (global.bmenucoord[3] == 3)
                            {
                                global.bmenucoord[3] = 2
                                mv = 1
                            }
                        }
                        if (mv == 0)
                        {
                            if (global.bmenucoord[3] == 2)
                            {
                                mv = 1
                                global.bmenuno = 3
                                global.bmenucoord[3] = 3
                            }
                        }
                        if (mv == 1)
                            audio_play_sound(snd_squeak,80,false)
                        if (global.bmenuno != tempcheck)
                            script_execute(scr_itemrewrite)
                    }
                }
            }
        }
        if (global.bmenuno == 10)
        {
            oldcoord = global.bmenucoord[2]
            if (global.bmenucoord[2] &lt;= 2)
                global.bmenucoord[2] += 3
            else
                global.bmenucoord[2] -= 3
            if (global.choices[global.bmenucoord[2]] == 0)
                global.bmenucoord[2] -= 1
            if (global.choices[0] == 1 &amp;&amp; global.choices[1] == 0 &amp;&amp; global.choices[2] == 0 &amp;&amp; global.choices[3] == 0 &amp;&amp; global.choices[4] == 0 &amp;&amp; global.choices[5] == 0)
                global.bmenucoord[2] = 0
            if (global.bmenucoord[2] != oldcoord)
                audio_play_sound(snd_squeak,80,false)
        }
        if (global.bmenuno == 6)
        {
            if (global.bmenucoord[6] == 0)
                global.bmenucoord[6] += 1
            else
                global.bmenucoord[6] -= 1
            audio_play_sound(snd_squeak,80,false)
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
