<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_asgore_kneel</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>30</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>shudder = 18;
con = 0;
alarm[0] = 1;
asgorex = x;
asgorey = y;
asgore = 1;
global.faceemotion = 9;
flowey = 0;
fimg = 0;
fimg2 = 0;
rowdy = 0;
ht = 240;
wd = 380;
remove = 0;
ry = 0;
murder = 0;
md = 0;
wd = 400;
ht = 200;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>con += 1;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>asgorex = xstart + shudder;
shudder = -shudder;

if (shudder &gt; 0)
    shudder -= 2;

alarm[2] = 2;

if (abs(shudder) &lt; 2)
{
    shudder = 0;
    
    if (hearts == 1)
        con = 30;
    else
        con = 58;
    
    alarm[2] = -1;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (murder == 1 &amp;&amp; md == 0)
{
    global.monsterinstance[0] = id;
    global.mytarget = 0;
    global.monsterhp[0] = 900;
    global.monstermaxhp[0] = 900;
    hearts = 0;
    global.damage = 9999999999;
    d = instance_create(x, y, obj_dmgwriter);
    d.takedamage = global.damage;
    md = 1;
}

asgorex = xstart + shudder;
shudder = -shudder;

if (shudder &gt; 0)
    shudder -= 3;

alarm[0] = 8;

if (abs(shudder) &lt; 1)
{
    shudder = 0;
    con = 2;
    alarm[0] = -1;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (con == 107)
{
    room_goto(room_emptywhite);
    exit;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (con &gt;= 4 &amp;&amp; instance_exists(obj_btparent))
{
    if (obj_btparent.image_alpha &gt; 0)
        obj_btparent.image_alpha -= 0.02;
}

if (con &gt;= 12 &amp;&amp; instance_exists(obj_borderparent))
{
    obj_battlecontroller.drawbinfo = 0;
    
    with (obj_hpname)
        instance_destroy();
    
    if (obj_borderparent.image_alpha &gt; 0)
        obj_borderparent.image_alpha -= 0.02;
}

if (asgore == 1)
{
    if (remove == 0)
    {
        draw_sprite_ext(spr_asgore_kneel, 0, asgorex, asgorey, 2, 2, 0, c_white, 1);
        draw_sprite_ext(spr_asgore_lastface, global.faceemotion, asgorex + 136, asgorey - 8, 2, 2, 0, c_white, 1);
    }
    
    if (remove == 1)
    {
        ry += 2;
        
        if (ry &lt; 49)
            draw_sprite_part_ext(spr_asgore_kneel, 0, 0, 0 + (ry * 2), 183, 97 - (ry * 2), asgorex, asgorey + (ry * 4), 2, 2, c_white, 1);
        
        if (ry &lt; 27)
            draw_sprite_part_ext(spr_asgore_lastface, global.faceemotion, 0, 0 + (ry * 2), 53, 54 - (ry * 2), asgorex + 136, (asgorey - 8) + (ry * 4), 2, 2, c_white, 1);
    }
}

if (con == 2)
{
    global.border = 0;
    SCR_BORDERSETUP();
    global.mnfight = -2;
    global.myfight = -2;
    
    with (obj_dmgwriter)
        instance_destroy();
    
    con = 3;
    alarm[4] = 50;
}

if (con == 4)
{
    global.typer = 63;
    global.msc = 0;
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_243"); // Ah.../
    global.msg[1] = scr_gettext("obj_asgore_lastcutscene_244"); // .../
    global.msg[2] = scr_gettext("obj_asgore_lastcutscene_245"); // So that&amp;is how&amp;it is./
    global.msg[3] = scr_gettext("obj_asgore_lastcutscene_246"); // .../%%
    con = 5;
    saddude = 1;
    
    if (murder == 1)
    {
        global.msg[0] = scr_gettext("obj_asgore_lastcutscene_251"); // \E3Why..^1.&amp;You.../%%
        con = 20;
    }
    
    scr_blcon(x + 300, y + 20, 0);
    blcon.sprite_index = spr_blconsm;
}

if (con == 5 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    con = 6;
    chokemusic = mus_chokedup
    alarm[4] = 45;
}

if (con == 7)
{
    caster_loop(chokemusic, 1, 1);
    saddude = 2;
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_275"); // I remember the day&amp;after my son&amp;died./
    global.msg[1] = scr_gettext("obj_asgore_lastcutscene_276"); // The entire underground&amp;was devoid of hope./
    global.msg[2] = scr_gettext("obj_asgore_lastcutscene_277"); // The future had once&amp;again been taken&amp;from us by the&amp;humans./
    global.msg[3] = scr_gettext("obj_asgore_lastcutscene_278"); // In a fit of anger,&amp;I declared war./
    global.msg[4] = scr_gettext("obj_asgore_lastcutscene_279"); // I said that I would&amp;destroy any human&amp;that came here./
    global.msg[5] = scr_gettext("obj_asgore_lastcutscene_280"); // I would use their&amp;souls to become&amp;godlike.../
    global.msg[6] = scr_gettext("obj_asgore_lastcutscene_281"); // ... and free us from&amp;this terrible prison./
    global.msg[7] = scr_gettext("obj_asgore_lastcutscene_282"); // Then, I would destroy&amp;humanity.../
    global.msg[8] = scr_gettext("obj_asgore_lastcutscene_283"); // And let monsters rule&amp;the surface, in peace./
    global.msg[9] = scr_gettext("obj_asgore_lastcutscene_284"); // Soon, the people's&amp;hopes returned./
    global.msg[10] = scr_gettext("obj_asgore_lastcutscene_285"); // My wife, however,&amp;became disgusted with&amp;my actions./
    global.msg[11] = scr_gettext("obj_asgore_lastcutscene_286"); // She left this place,&amp;never to be seen&amp;again./%%
    scr_blcon_ofs(x + 270, y + 20, 0, 6, 0);
    con = 8;
}

if (con == 8 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    con = 9;
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_294"); // Truthfully.../
    global.msg[1] = scr_gettext("obj_asgore_lastcutscene_295"); // I do not want power./
    global.msg[2] = scr_gettext("obj_asgore_lastcutscene_296"); // I do not want to&amp;hurt anyone./
    global.msg[3] = scr_gettext("obj_asgore_lastcutscene_297"); // I just wanted everyone&amp;to have hope.../
    global.msg[4] = scr_gettext("obj_asgore_lastcutscene_298"); // But.../
    global.msg[5] = scr_gettext("obj_asgore_lastcutscene_299"); // I cannot take this&amp;any longer./
    global.msg[6] = scr_gettext("obj_asgore_lastcutscene_300"); // I just want to&amp;see my wife./
    global.msg[7] = scr_gettext("obj_asgore_lastcutscene_301"); // I just want to&amp;see my child./
    global.msg[8] = scr_gettext("obj_asgore_lastcutscene_302"); // Please..^1.&amp;Young one.../
    global.msg[9] = scr_gettext("obj_asgore_lastcutscene_303"); // This war has gone&amp;on long enough./
    global.msg[10] = scr_gettext("obj_asgore_lastcutscene_304"); // You have the power.../
    global.msg[11] = scr_gettext("obj_asgore_lastcutscene_305"); // Take my soul, and&amp;leave this cursed&amp;place./%%
    scr_blcon_ofs(x + 270, y + 20, 0, 6, 0);
    con = 10;
}

if (con == 8 || con == 10 || con == 18 || con == 19)
    scr_textskip();

if (con == 10 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    fightbt2 = instance_create(global.idealborder[0] + 50, global.idealborder[2] + 50, obj_anybt);
    fightbt2.type = 0;
    fightbt2.sprite_index = scr_getsprite(spr_fightbt);
    sparebt2 = instance_create(global.idealborder[1] - 150, global.idealborder[2] + 50, obj_anybt);
    sparebt2.type = 1;
    sparebt2.sprite_index = scr_getsprite(spr_sparebt_bandage);
    obj_heart.x = -999;
    fkhrt = instance_create(320, global.idealborder[2] + 60, obj_fakeheart);
    con = 11;
}

if (con == 15)
{
    audio_stop_all()
    con = 16;
    alarm[4] = 30;
}

if (con == 17)
{
    msb = mus_musicbox
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_340"); // .../
    global.msg[1] = scr_gettext("obj_asgore_lastcutscene_341"); // \E0After everything I&amp;have done to&amp;hurt you.../
    global.msg[2] = scr_gettext("obj_asgore_lastcutscene_342"); // \E7You would rather&amp;stay down here&amp;and suffer.../
    global.msg[3] = scr_gettext("obj_asgore_lastcutscene_343"); // \E9Than live happily&amp;on the surface?/
    global.msg[4] = scr_gettext("obj_asgore_lastcutscene_344"); // \E6.../%%
    scr_blcon_ofs(x + 270, y + 20, 0, 6, 0);
    con = 18;
}

if (con == 18 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    caster_loop(msb, 1, 1);
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_352"); // \E1Human.../
    global.msg[1] = scr_gettext("obj_asgore_lastcutscene_353"); // \E7I promise you.../
    global.msg[2] = scr_gettext("obj_asgore_lastcutscene_354"); // \E7For as long as&amp;you remain here.../
    global.msg[3] = scr_gettext("obj_asgore_lastcutscene_355"); // \E1My wife and I will&amp;take care of you&amp;as best we can./
    global.msg[4] = scr_gettext("obj_asgore_lastcutscene_356"); // \E2We can sit in&amp;the living room^1,&amp;telling stories.../
    global.msg[5] = scr_gettext("obj_asgore_lastcutscene_357"); // \E1Eating butterscotch&amp;pie.../
    global.msg[6] = scr_gettext("obj_asgore_lastcutscene_358"); // \E2We could be&amp;like.../
    global.msg[7] = scr_gettext("obj_asgore_lastcutscene_359"); // \E8Like a family.../%%
    scr_blcon_ofs(x + 270, y + 20, 0, 6, 0);
    con = 19;
    ossafe_ini_open("undertale.ini");
    IK = ini_read_real("Flowey", "IK", 0);
    CHANGE = ini_read_real("Flowey", "CHANGE", 0);
    K = ini_read_real("Flowey", "K", 0);
    SK = ini_read_real("Flowey", "SK", 0);
    ossafe_ini_close();
    q = 0;
    
    if (global.kills == 0)
    {
        if (CHANGE == 0)
        {
            if (SK == 0)
            {
                if (IK &gt; 0)
                    q = 1;
            }
        }
    }
    
    if (K == 1)
    {
        if (SK == 0)
            q = 1;
    }
    
    if (q == 1)
        con = 130;
}

if (con == 19 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    con = 18.5;
    alarm[4] = 50;
}

if (con == 19.5)
    con = 20;

if (con == 20 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    global.faceemotion = 5;
    audio_stop_all()
    instance_create(asgorex + 190, asgorey - 30, obj_spinbullet_lastgen);
    con = 21;
    alarm[4] = 70;
}

if (con == 22)
{
    obj_spinbullet_last.targetx = asgorex + 190;
    obj_spinbullet_last.targety = asgorey + 110;
    
    with (obj_spinbullet_last)
    {
        move_towards_point(targetx, targety, 2);
        friction = -0.5;
    }
    
    if (hearts == 1)
    {
        with (specbullet)
            speed = 0;
    }
    
    con = 23;
    alarm[4] = 20;
}

if (con == 24)
{
    alarm[2] = 1;
    audio_play_sound(snd_damage, 80, false);
    shudder = 16;
    global.faceemotion = 4;
    
    if (hearts == 1)
    {
        ssx = specbullet.x;
        ssy = specbullet.y;
    }
    
    with (obj_spinbullet_last)
        instance_destroy();
    
    if (hearts == 1)
        specbullet = instance_create(ssx, ssy, obj_spinbullet_last);
    
    con = 25;
}

if (con == 30)
{
    ddd = instance_create(x, y, obj_vaporized_new);
    
    with (ddd)
        scr_newvapordata(34);
    
    remove = 1;
    ddd.sprite_index = spr_asgore_kneeldeath;
    ddd.ht = ht;
    ddd.wd = wd;
    room_speed = 10;
    con = 31;
    alarm[4] = 40;
}

if (con == 32)
{
    room_speed = 30;
    asgore = 0;
    fh = instance_create(asgorex + 190, asgorey + 110, obj_asgfakeheart);
    con = 33;
    alarm[4] = 40;
}

if (con == 34)
{
    with (specbullet)
        move_towards_point(obj_asgfakeheart.x, obj_asgfakeheart.y, 4);
    
    con = 35;
    alarm[4] = 35;
}

if (con == 36)
{
    depth = 1;
    
    with (obj_spinbullet_last)
        instance_destroy();
    
    with (obj_asgfakeheart)
        event_user(0);
    
    con = 37;
    alarm[4] = 110;
    
    if (murder == 1)
        alarm[4] = 60;
}

if (con == 38)
{
    global.faceemotion = 0;
    flowey = 1;
    fimg = 0;
    
    if (murder == 0)
    {
        con = 95;
        alarm[4] = 60;
        ossafe_ini_open("undertale.ini");
        won = ini_read_real("General", "Won", 0);
        
        if (won &gt; 0)
        {
            con = 119;
            alarm[4] = 60;
        }
    }
    else
    {
        con = 150;
    }
}

if (con == 45)
{
    audio_stop_all()
    con = 46;
    alarm[4] = 20;
}

if (con == 47)
{
    global.flag[476] = 1;
    global.stretch = 1.5;
    strike = instance_create(asgorex + 195, asgorey + 150, obj_slice);
    con = 49;
    alarm[4] = global.damagetimer;
}

if (con == 50)
{
    alarm[2] = 1;
    audio_play_sound(snd_damage, 80, false);
    shudder = 16;
    global.faceemotion = 6;
    con = 51;
}

if (con == 58)
{
    ddd = instance_create(x, y, obj_vaporized_new);
    
    with (ddd)
        scr_newvapordata(34);
    
    remove = 1;
    ddd.sprite_index = spr_asgore_kneeldeath;
    ddd.ht = ht;
    ddd.wd = wd;
    room_speed = 10;
    con = 59;
    alarm[4] = 40;
}

if (con == 60)
{
    room_speed = 30;
    asgore = 0;
    fh = instance_create(asgorex + 180, asgorey + 100, obj_asgfakeheart);
    con = 62;
    alarm[4] = 90;
}

if (con == 63)
{
    obj_asgfakeheart.shake = 0;
    spb = instance_create(asgorex + 190, asgorey - 15, obj_spinbullet_lastgen);
    spb.speed = 20;
    con = 64;
    alarm[4] = 50;
}

if (con == 65)
{
    obj_spinbullet_last.targetx = obj_asgfakeheart.x + 2;
    obj_spinbullet_last.targety = obj_asgfakeheart.y + 2;
    
    with (obj_spinbullet_last)
    {
        move_towards_point(targetx, targety, 2);
        friction = -0.5;
    }
    
    con = 66;
    alarm[4] = 18;
}

if (con == 67)
    con = 36;

if (flowey == 1)
{
    draw_sprite_ext(spr_flowey_riseanim, fimg, 285, 150, 2, 2, 0, c_white, 1);
    
    if (murder == 1 &amp;&amp; fimg &gt;= 8)
        draw_sprite_ext(spr_flowey_as, global.faceemotion, 285, 150, 2, 2, 0, c_white, 1);
    
    if (fimg &lt; 8)
        fimg += 0.5;
}

if (flowey == 3)
{
    draw_sprite_ext(spr_flowey_toskull, fimg2, 285, 150, 2, 2, 0, c_white, 1);
    
    if (fimg2 &lt; 4)
        fimg2 += 0.04;
}

if (flowey == 4)
{
    draw_sprite_ext(spr_flowey_skulllaugh, fimg2, 285, 150, 2, 2, 0, c_white, 1);
    fimg2 += 0.5;
}

if (con == 96)
{
    global.msc = 0;
    global.typer = 66;
    
    if (hearts == 1)
    {
        global.msg[0] = scr_gettext("obj_asgore_lastcutscene_623"); // You&amp;IDIOT./
        ossafe_ini_open("undertale.ini");
        truename = ini_read_real("Flowey", "truename", 0);
        ossafe_ini_close();
        
        if (truename == 1)
            global.msg[0] = scr_gettext("obj_asgore_lastcutscene_627"); // \[C]./
        
        global.msg[1] = scr_gettext("obj_asgore_lastcutscene_628"); // You&amp;haven't&amp;learned&amp;a thing./%%
    }
    
    if (hearts == 0)
    {
        global.msg[0] = scr_gettext("obj_asgore_lastcutscene_632"); // Hee&amp;hee&amp;hee./
        global.msg[1] = scr_gettext("obj_asgore_lastcutscene_633"); // So you&amp;finally&amp;get it./%%
        ossafe_ini_open("undertale.ini");
        truename = ini_read_real("Flowey", "truename", 0);
        ossafe_ini_close();
        
        if (truename == 1)
        {
            global.msg[0] = scr_gettext("obj_asgore_lastcutscene_639"); // \[C]./
            global.msg[1] = scr_gettext("obj_asgore_lastcutscene_640"); // So you&amp;DO&amp;recall./%%
        }
    }
    
    scr_blcon(360, 140, 0);
    obj_blconwideslave.sprite_index = spr_blconsm;
    con = 97;
}

if (con == 97 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_651"); // In&amp;this&amp;world.../%%
    scr_blcon(360, 140, 0);
    obj_blconwideslave.sprite_index = spr_blconsm;
    con = 100;
}

if (con == 100)
{
    rowdy = 1;
    radius = 400;
    angle = 0;
    
    for (i = 0; i &lt; 6; i += 1)
    {
        ang[i] = i * 60;
        xx = lengthdir_x(radius, ang[i]) + 320;
        yy = lengthdir_y(radius, ang[i]) + 170;
        heart[i] = instance_create(xx, yy, obj_spinbullet_last);
        heart[i].image_speed = 0;
        
        if (i == 0)
            heart[i].sprite_index = spr_heartyellow;
        
        if (i == 1)
            heart[i].sprite_index = spr_heartorange;
        
        if (i == 2)
            heart[i].sprite_index = spr_heartpurple;
        
        if (i == 3)
            heart[i].sprite_index = spr_heartblue;
        
        if (i == 4)
            heart[i].sprite_index = spr_heartaqua;
        
        if (i == 5)
            heart[i].sprite_index = spr_heartgreen;
    }
    
    fimg2 = 0;
    con = 99.5;
}

if (con == 99.5 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    cym = mus_cymbal
    con = 102;
    flowey = 3;
    global.typer = 67;
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_692"); // It's KILL or BE killed^4.%%
    instance_create(120, 350, OBJ_WRITER);
}

if (con == 102 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    caster_play(cym, 1, 1);
    audio_play_sound(snd_floweylaugh, 80, false);
    flowey = 4;
    con = 103;
    wht = 0;
    alarm[4] = 2;
}

if (con == 104)
{
    rowdy = 2;
    con = 105;
    
    with (heart[0])
        secrettrick = 1;
    
    alarm[4] = 160;
    
    if (global.osflavor &gt; 2)
        alarm[4] += 90;
}

if (con == 106)
{
    white_blocker = scr_marker(-10, -10, spr_pixwht);
    white_blocker.image_xscale = 900;
    white_blocker.image_yscale = 900;
    global.filechoice = 8;
    global.currentroom = room_flowey_endchoice;
    scr_saveprocess();
    
    if (global.osflavor == 1)
    {
        if (file_exists("undertale.exe"))
            file_rename("undertale.exe", "flowey.exe");
    }
    
    ossafe_ini_open("undertale.ini");
    ini_write_real("FFFFF", "F", 1);
    ossafe_ini_close();
    ossafe_savedata_save();
    con = 107;
}

if (con == 120)
{
    rowdy = 1;
    radius = 400;
    angle = 0;
    
    for (i = 0; i &lt; 6; i += 1)
    {
        ang[i] = i * 60;
        xx = lengthdir_x(radius, ang[i]) + 320;
        yy = lengthdir_y(radius, ang[i]) + 170;
        heart[i] = instance_create(xx, yy, obj_spinbullet_last);
        heart[i].image_speed = 0;
        
        if (i == 0)
            heart[i].sprite_index = spr_heartyellow;
        
        if (i == 1)
            heart[i].sprite_index = spr_heartorange;
        
        if (i == 2)
            heart[i].sprite_index = spr_heartpurple;
        
        if (i == 3)
            heart[i].sprite_index = spr_heartblue;
        
        if (i == 4)
            heart[i].sprite_index = spr_heartaqua;
        
        if (i == 5)
            heart[i].sprite_index = spr_heartgreen;
    }
    
    fimg2 = 0;
    con = 121;
}

if (con == 121)
{
    global.msc = 0;
    global.typer = 6;
    
    if (won == 1)
    {
        global.msg[0] = scr_gettext("obj_asgore_lastcutscene_769"); // Hee hee hee^1.&amp;Don't worry./
        global.msg[1] = scr_gettext("obj_asgore_lastcutscene_770"); // I know there's no&amp;REAL point in&amp;fighting you./
        global.msg[2] = scr_gettext("obj_asgore_lastcutscene_771"); // The human souls&amp;would probably just&amp;revolt again./
        global.msg[3] = scr_gettext("obj_asgore_lastcutscene_772"); // So...!/%%
        ossafe_ini_open("undertale.ini");
        kill = ini_read_real("Flowey", "K", 0);
        
        if (kill == 1)
        {
            global.msg[0] = scr_gettext("obj_asgore_lastcutscene_778"); // Hee hee hee^1./
            global.msg[1] = scr_gettext("obj_asgore_lastcutscene_779"); // Did you REALLY&amp;think killing me&amp;would make a&amp;DIFFERENCE?/
            global.msg[2] = scr_gettext("obj_asgore_lastcutscene_780"); // No./
            global.msg[3] = scr_gettext("obj_asgore_lastcutscene_781"); // Every time you&amp;load your SAVE^1,&amp;I'll come back./
            global.msg[4] = scr_gettext("obj_asgore_lastcutscene_782"); // And every time you&amp;try to get a&amp;happy ending.../
            global.msg[5] = scr_gettext("obj_asgore_lastcutscene_783"); // I'll be there to&amp;tear it away!/
            global.msg[6] = scr_gettext("obj_asgore_lastcutscene_784"); // Ha ha ha!!!/%%
        }
    }
    
    if (won == 2)
        global.msg[0] = scr_gettext("obj_asgore_lastcutscene_792"); // Well^1, let's get&amp;this over with./%%
    
    if (won &gt;= 3)
        global.msg[0] = scr_gettext("obj_asgore_lastcutscene_796"); // .../%%
    
    con = 122;
    scr_blcon(390, 140, 0);
    obj_blconwideslave.depth = -9000;
    OBJ_WRITER.depth = -90000;
}

if (con == 122 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    rowdy = 2;
    
    with (heart[0])
        secrettrick = 1;
    
    cym = mus_cymbal
    caster_play(cym, 1, 1);
    con = 123;
    wht = 0;
    alarm[4] = 150;
}

if (con == 130 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    con = 131;
    alarm[4] = 50;
}

if (con == 132 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    ossafe_ini_open("undertale.ini");
    ini_write_real("Flowey", "SK", 1);
    ossafe_ini_close();
    ossafe_savedata_save();
    global.typer = 63;
    global.msc = 0;
    audio_stop_all()
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_831"); // \E2.../
    global.msg[1] = scr_gettext("obj_asgore_lastcutscene_832"); // \E0No^1.&amp;That's just a&amp;fantasy^1, isn't it?/
    global.msg[2] = scr_gettext("obj_asgore_lastcutscene_833"); // \E1Young one^1, when I&amp;look at you.../
    global.msg[3] = scr_gettext("obj_asgore_lastcutscene_834"); // \E2I'm reminded of the&amp;human that fell here&amp;long ago.../
    global.msg[4] = scr_gettext("obj_asgore_lastcutscene_835"); // \E8You have the same&amp;feeling of hope in&amp;your eyes./
    global.msg[5] = scr_gettext("obj_asgore_lastcutscene_836"); // \E7There is an ancient&amp;prophecy among our&amp;people.../
    global.msg[6] = scr_gettext("obj_asgore_lastcutscene_837"); // One day^1, a savior&amp;will come from the&amp;heavens./
    global.msg[7] = scr_gettext("obj_asgore_lastcutscene_838"); // \E1... I believe the&amp;one that was&amp;prophecied was you./
    global.msg[8] = scr_gettext("obj_asgore_lastcutscene_839"); // Somewhere in the&amp;world outside.../
    global.msg[9] = scr_gettext("obj_asgore_lastcutscene_840"); // There must be a way&amp;to free us from our&amp;prison./
    global.msg[10] = scr_gettext("obj_asgore_lastcutscene_841"); // \E0It pains me to&amp;give you this&amp;responsiblity^1, but.../
    global.msg[11] = scr_gettext("obj_asgore_lastcutscene_842"); // \E0Please^1.&amp;Take my soul..^1.&amp;and seek the truth./%%
    scr_blcon(x + 270, y + 20, 0);
    con = 133;
    remdepth = depth;
}

if (con == 133 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    cut = mus_sfx_cinematiccut;
    caster_play(cut, 1, 0.9);
    alarm[4] = 80;
    con = 134;
    wht = 0;
    depth = -999999;
}

if (con == 134)
{
    draw_set_color(c_white);
    draw_set_alpha(wht);
    wht += 0.2;
    ossafe_fill_rectangle(-10, -10, 999, 999);
    draw_set_alpha(1);
    con = 134;
}

if (con == 135)
{
    con = 136;
    audio_play_sound(snd_damage, 80, false);
    alarm[4] = 80;
}

if (con == 136)
{
    draw_set_color(c_black);
    draw_set_alpha(1);
    ossafe_fill_rectangle(-10, -10, 999, 999);
}

if (con == 137)
{
    depth = remdepth;
    global.faceemotion = 0;
    global.msc = 0;
    global.typer = 64;
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_898"); // \E0Ha... ha.../
    global.msg[1] = scr_gettext("obj_asgore_lastcutscene_899"); // \E6I'm sorry.../
    global.msg[2] = scr_gettext("obj_asgore_lastcutscene_900"); // I couldn't give you&amp;a simple^1, happy&amp;ending.../
    global.msg[3] = scr_gettext("obj_asgore_lastcutscene_901"); // But I believe your&amp;freedom.../
    global.msg[4] = scr_gettext("obj_asgore_lastcutscene_902"); // ... is what my son.../
    global.msg[5] = scr_gettext("obj_asgore_lastcutscene_903"); // \E8... what ASRIEL would&amp;have wanted./%%
    scr_blcon(x + 270, y + 20, 0);
    con = 138;
}

if (con == 138 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    con = 139;
    alarm[4] = 30;
}

if (con == 140)
    con = 58;

if (rowdy == 1)
{
    angle += 4;
    
    if (radius &gt; 180)
        radius -= 5;
    
    radius += (sin(angle / 16) * 2);
    
    for (i = 0; i &lt; 6; i += 1)
    {
        ang[i] = (i * 60) + angle;
        xx = lengthdir_x(radius, ang[i]) + 320;
        yy = lengthdir_y(radius, ang[i]) + 170;
        heart[i].x = xx;
        heart[i].y = yy;
    }
}

if (rowdy == 2)
{
    angle += 1;
    
    if (radius &gt; 0)
        radius -= 1.5;
    
    for (i = 0; i &lt; 6; i += 1)
    {
        ang[i] = (i * 60) + angle;
        xx = lengthdir_x(radius, ang[i]) + 320;
        yy = lengthdir_y(radius, ang[i]) + 170;
        heart[i].x = xx;
        heart[i].y = yy;
    }
}

if (con == 999)
{
    draw_set_color(c_white);
    draw_set_alpha(wht);
    wht += 0.01;
    ossafe_fill_rectangle(-10, -10, 999, 999);
    draw_set_alpha(1);
}

if (con == 124)
{
    audio_stop_all()
    instance_create(0, 0, obj_persistentfader);
    room_goto(room_castle_exit);
}

if (con == 150)
{
    global.msc = 0;
    global.typer = 6;
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_979"); // See^1?&amp;I never betrayed&amp;you^2! %
    global.msg[1] = scr_gettext("obj_asgore_lastcutscene_980"); // It was all a&amp;trick, see^2? %
    global.msg[2] = scr_gettext("obj_asgore_lastcutscene_981"); // I was waiting to&amp;kill him for you^2! %
    global.msg[3] = scr_gettext("obj_asgore_lastcutscene_982"); // \E1After all it's me&amp;your best friend^2! %
    global.msg[4] = scr_gettext("obj_asgore_lastcutscene_983"); // \E2I'm helpful, I can&amp;be useful to you^1 %
    global.msg[5] = scr_gettext("obj_asgore_lastcutscene_984"); // \E1I promise I won't&amp;get in your way^1 %%
    con = 151;
    scr_blcon_ofs(390, 140, 0, 6, 0);
    obj_blconwideslave.depth = -9000;
    OBJ_WRITER.depth = -90000;
}

if (con == 151 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    global.msc = 0;
    global.typer = 102;
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_995"); // \E2I can help..^1.&amp;I can..^1.&amp;I can..^2. %%
    con = 152;
    scr_blcon_ofs(390, 140, 0, 6, 0);
    obj_blconwideslave.depth = -9000;
    OBJ_WRITER.depth = -90000;
}

if (con == 152 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    global.msc = 0;
    global.typer = 103;
    global.msg[0] = scr_gettext("obj_asgore_lastcutscene_1006"); // \E3Please don't&amp;kill me./%%
    con = 153;
    scr_blcon(390, 140, 0);
    obj_blconwideslave.depth = -9000;
    OBJ_WRITER.depth = -90000;
}

if (con == 153 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
{
    instance_create(285, 150, obj_floweygonk);
    instance_destroy();
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
