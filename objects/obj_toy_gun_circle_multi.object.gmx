<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.weapon2 == 78
{
    circle_count = 2
}
else
{
    circle_count = 3
}

final_circle = circle_count - 1
small_circle = 64
outline_start = 120
outline_start_inc = 0
imagea_default = 1
imagea_dec = 0.05263157894736842
thick_default = 0
thick_increase = 2
color_default[0] = 16777215
color_default[1] = 0
color_hit[0] = make_color_rgb(0, 162, 232)
color_hit[1] = 65535
color_hit[2] = 255
color_alt_speed = 0.5
color_alt_max = 1
switch global.weapon2
{
    case 80:
        shrink_speed = 5
        outline_start_inc = shrink_speed * 10
        break
    case 78:
        shrink_speed = 5
        outline_start_inc = shrink_speed * 10
        break
    default:
        shrink_speed = 6
        outline_start_inc = shrink_speed * 10
}

for (i = 0; i &lt; circle_count; i++)
{
    outline[i] = outline_start
    shrink[i] = 1
    hit[i] = 0
    imagea[i] = imagea_default
    thickness[i] = thick_default
    cursor_color[i] = color_default[0]
    outline_color[i] = color_default[1]
    color_hit_number[i] = 0
    color_alt_total[i] = (-color_alt_speed)
    outline_start += outline_start_inc
}

shot_total = 0
button_pressed = 0
circle_current = 0
no_loop = 0
execute_create = 1

execute_create = 0
myscore = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with (obj_toy_gun_battle_circle)
    fade = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>mons = global.monsterinstance[global.mytarget]

if instance_exists(mons)
    mons.trgtest = id
with (mons)
{
    trgtest.ht = ht
    trgtest.wd = wd
}

script_execute(scr_controls_battle_reticle_multi)
for (i = 0; i &lt;= final_circle; i++)
{
    if (outline[i] &lt;= 0 &amp;&amp; shrink[i] == 1 &amp;&amp; (myscore &gt; 0))
    {
        outline[i] = 0
        shrink[i] = 0
        imagea[i] = 0
        shrink_speed = 0
        circle_current = final_circle + 1
        var missed_shot = 1
        no_loop = 1
        script_execute(scr_attackcalc)
        damage *= ((myscore / 160) * (4 / circle_count))
        damage = round(damage)
        global.damage = damage
        global.damage += random(2)
        mons.takedamage = global.damage
        global.hurtanim[global.mytarget] = 1
        instance_destroy()
        exit
    }
    else if (outline[i] &lt;= 0 &amp;&amp; shrink[i] == 1)
    {
        outline[i] = 0
        shrink[i] = 0
        imagea[i] = 0
        shrink_speed = 0
        circle_current = final_circle + 1
        var missed_shot = 1
        no_loop = 1
        global.damage = 0
        global.hurtanim[global.mytarget] = 5
        instance_destroy()
        exit
    }
}

if (control_check_pressed(0) &amp;&amp; circle_current &lt;= final_circle)
{
    //mons = global.monsterinstance[global.mytarget]
    //script_execute(scr_attackcalc)
    //myscore += 120 - outline[circle_current]
    //damage *= ((myscore / 160) * (4 / circle_count))
    //damage = round(damage)
    //global.damage = damage
    //global.damage += random(2)
    //mons.takedamage = global.damage
    
    missed_shot = 0
    var enemy_target_x_offset = 0
    var enemy_target_y_offset = 0
    switch global.weapon2
    {
        case 80:
        case 78:
            enemy_target_x_offset = irandom_range(-40, 40)
            enemy_target_y_offset = irandom_range(-40, 40)
            break
        default:
            enemy_target_x_offset = 0
            enemy_target_y_offset = 0
            break
    }

    if (outline[circle_current] &gt;= small_circle)
    {
        outline[circle_current] = 0
        shrink[circle_current] = 0
        imagea[circle_current] = 0
        audio_play_sound(snd_bigdoor_open, 1, false)
        shrink_speed = 0
        circle_current = final_circle + 1
        missed_shot = 1
        no_loop = 1
        global.damage = 0
        global.hurtanim[global.mytarget] = 5
        instance_destroy()
        exit
    }
    else if (outline[circle_current] &lt;= (small_circle * 0.25))
    {
        hit[circle_current] = 2
        color_hit_number[circle_current] = 1
        shot_total += 3
        if (circle_current == final_circle)
        {
            script_execute(scr_attackcalc)
            myscore += 120 - outline[circle_current]
            damage *= ((myscore / 160) * (4 / circle_count))
            damage = round(damage)
            global.damage = damage
            global.damage += random(2)
            mons.takedamage = global.damage
            global.hurtanim[global.mytarget] = 1
            hit_object = obj_shot_strong
        }
        else
        {
            myscore += 120 - outline[circle_current]
            hit_object = obj_shot_strong
        }
    }
    else if (outline[circle_current] &lt;= (small_circle * 0.6) &amp;&amp; outline[circle_current] &gt; (small_circle * 0.25))
    {
        hit[circle_current] = 1
        color_hit_number[circle_current] = 0
        shot_total += 2
        if (circle_current == final_circle)
        {
            script_execute(scr_attackcalc)
            myscore += 120 - outline[circle_current] - 20
            damage *= ((myscore / 160) * (4 / circle_count))
            damage = round(damage)
            global.damage = damage
            global.damage += random(2)
            mons.takedamage = global.damage
            global.hurtanim[global.mytarget] = 1
            hit_object = obj_shot_medium
        }
        else
        {
            myscore += 120 - outline[circle_current] - 20
            hit_object = obj_shot_medium
        }
    }
    else if (outline[circle_current] &lt; small_circle &amp;&amp; outline[circle_current] &gt; (small_circle * 0.6))
    {
        hit[circle_current] = 1
        color_hit_number[circle_current] = 0
        shot_total += 1
        if (circle_current == final_circle)
        {
            script_execute(scr_attackcalc)
            myscore += 120 - outline[circle_current] - 50
            damage *= ((myscore / 160) * (4 / circle_count))
            damage = round(damage)
            global.damage = damage
            global.damage += random(2)
            mons.takedamage = global.damage
            global.hurtanim[global.mytarget] = 1
            hit_object = obj_shot_weak
        }
        else
        {
            myscore += 120 - outline[circle_current] - 50
            hit_object = obj_shot_weak
        }
    }
    if (missed_shot == 0)
    {
        instance_create(((mons.x + (wd / 2)) - 5), mons.y - 5 + (ht / 2), hit_object)
        shrink[circle_current] = 0
        button_pressed = 1
    }
    circle_current += 1
}
for (i = 0; i &lt;= final_circle; i++)
{
    if (outline[i] &gt; 0 &amp;&amp; shrink[i] == 1)
    {
        outline[i] -= shrink_speed
        if (outline[i] &lt; 0)
            outline[i] = 0
    }
    if (shrink[i] == 0 &amp;&amp; imagea[i] &gt; 0)
    {
        if (hit[i] == 2)
        {
            color_alt_total[i] += color_alt_speed
            if (color_alt_total[i] &gt;= color_alt_max)
            {
                color_alt_total[i] = 0
                color_hit_number[i] += 1
                if (color_hit_number[i] &gt; 2)
                    color_hit_number[i] = 0
            }
        }
        if (hit[i] != 0)
        {
            cursor_color[i] = color_hit[color_hit_number[i]]
            outline_color[i] = color_hit[color_hit_number[i]]
        }
        thickness[i] += thick_increase
        imagea[i] -= imagea_dec
        if (imagea[i] &lt; 0)
            imagea[i] = 0
    }
}
if (no_loop == 0)
{
    if (outline[final_circle] == 0 &amp;&amp; hit[final_circle] == 0)
    {
        if (!instance_exists(obj_strike_fake))
        {
            if (button_pressed == 1)
                alarm[0] = 3
            else
                alarm[0] = 1
            no_loop = 1
        }
    }
}

if (global.myfight != 1)
    instance_destroy()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//if (execute_create == 1)
//{
    for (i = 0; i &lt;= final_circle; i++)
    {
        if (imagea[i] &gt; 0)
        {
            draw_set_alpha(imagea[i])
            scr_circle_outline(x, y, (outline[i] - 1), (8 + thickness[i]), outline_color[i])
            if (hit[i] == 0)
                scr_circle_outline(x, y, outline[i], (4 + thickness[i]), cursor_color[i])
        }
    }
    draw_set_alpha(1)
//}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
