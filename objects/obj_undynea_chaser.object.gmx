<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_undyne_helmet_d</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>scr_depth(0, 0, 0, 0, 0)
STOPPER = 0
image_speed = 0.334
dsprite = spr_undyne_helmet_d
usprite = spr_undyne_helmet_u
lsprite = spr_undyne_helmet_l
rsprite = spr_undyne_helmet_r
dtsprite = spr_undyne_helmet_d
utsprite = spr_undyne_helmet_u
ltsprite = spr_undyne_helmet_l
rtsprite = spr_undyne_helmet_r
myinteract = 0
facing = 0
fun = false
npcdir = 0
d = 0
con = 0
active = true
new = 1
sans = 0
if (global.flag[67] == 1)
    sans = 1
if (room == room_water_undynefinal)
    new = 0
for (i = 0; i &lt; 60; i += 1)
{
    rememberx[i] = x
    remembery[i] = y
}
global.flag[17] = 1
if (global.plot &gt; 121)
    instance_destroy()
if (room == room_water_undynefinal2)
{
    if (global.entrance == 1)
        y = obj_mainchara.y + 100
    if (global.entrance == 2)
        y = obj_mainchara.y - 100
}
if (room == room_water_undynefinal3)
{
    if (global.entrance == 1)
        x = obj_mainchara.x - 100
    if (global.entrance == 2)
        x = obj_mainchara.x + 100
}
if (room == room_fire1)
{
    if (global.entrance == 1)
        x = obj_mainchara.x - 60
    if (global.entrance == 2)
        x = obj_mainchara.x + 60
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.flag[17] = 0
if (global.flag[7] == 0)
    audio_stop_all()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>con += 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.flag[17] = 1
if (STOPPER == 0)
{
    if (d == 0)
        scr_depth()
    if (fun == false)
    {
        myinteract = 0
        if (speed == 0)
        {
            image_index = 0
            image_speed = 0
        }
        if (speed &gt; 0)
        {
            image_speed = 0.2
            if (image_index == 1 || image_index == 3)
                audio_play_sound(snd_undynestep,80,false)
        }
    }
    if (fun == 3)
    {
        if (image_index == 1 || image_index == 3)
            audio_play_sound(snd_undynestep,80,false)
    }
    if (con == 0)
    {
        alarm[4] = 32
        con = 1
        if (new == 1)
        {
            alarm[4] = 20
            blc = instance_create(999, 999, obj_cosmeticblcon)
            new = 0
            con = 3
        }
    }
    if (con == 2)
    {
        blc = instance_create(x, y, obj_cosmeticblcon)
        audio_play_sound(snd_b,80,false)
        con = 3
        alarm[4] = 25
    }
    if (con == 4 &amp;&amp; room != room_fire1)
    {
        with (blc)
            instance_destroy()
        spd = 5
        if (global.flag[99] &gt; 3)
            spd = 4
        move_towards_point((obj_mainchara.x - 4), (obj_mainchara.y - 20), spd)
        if (abs(vspeed) &gt; abs(hspeed))
        {
            if (vspeed &lt; 0)
                sprite_index = usprite
            else
                sprite_index = dsprite
        }
        else if (hspeed &lt; 0)
            sprite_index = lsprite
        else
            sprite_index = rsprite
    }
    if (con == 4 &amp;&amp; room == room_fire1)
    {
        with (blc)
            instance_destroy()
        if (obj_mainchara.x &gt; (x + 20))
        {
            hspeed = 3
            image_speed = 0.2
            sprite_index = rsprite
        }
        if (obj_mainchara.x &lt;= (x + 20))
        {
            hspeed = -3
            image_speed = 0.2
            sprite_index = lsprite
        }
        if (x &gt; 140 &amp;&amp; x &lt; 160 &amp;&amp; sans == 0)
        {
            con = 8
            sans = 1
        }
    }
    if (active == true &amp;&amp; global.interact == 0)
    {
        if collision_rectangle((x + 6), (y + sprite_height - 20), (x + sprite_width - 6), (y + sprite_height - 2), obj_mainchara, 0, 1)
        {
            speed = 0
            con = 5
        }
    }
    if (active == true &amp;&amp; global.interact == 0 &amp;&amp; room == room_fire1)
    {
        if collision_rectangle((x + 6), (y + sprite_height + 60), (x + sprite_width - 6), (y + sprite_height - 80), obj_mainchara, 0, 1)
        {
            speed = 0
            con = 5
        }
    }
    if (con == 5)
    {
        alarm[4] = -1
        active = false
        speed = 0
        global.interact = 1
        con = 6
        global.border = 12
        global.battlegroup = 47
        global.mercy = 1
        instance_create(0, 0, obj_battler)
        talkedto = 0
    }
    if (con == 6 &amp;&amp; global.interact == 0)
    {
        active = true
        con = 0
        if (room == room_water_undynefinal)
        {
            if (obj_mainchara.y &gt; 600)
                y = 500
            else
                y = 640
            x = 160
        }
        if (room == room_water_undynefinal2)
        {
            if (global.entrance == 1)
                y = obj_mainchara.y + 130
            if (global.entrance == 2)
                y = obj_mainchara.y - 100
        }
        if (room == room_water_undynefinal3)
        {
            if (global.entrance == 1)
                x = obj_mainchara.x - 100
            if (global.entrance == 2)
                x = obj_mainchara.x + 100
        }
        if (room == room_fire1)
        {
            if (global.entrance == 1)
                x = obj_mainchara.x - 60
            if (global.entrance == 2)
                x = obj_mainchara.x + 60
        }
        if (global.flag[350] == 1)
        {
            global.mercy = 0
            audio_stop_all()
            global.plot = 122
            instance_destroy()
        }
    }
    if (con == 8)
    {
        hspeed = 0
        con = 9
        alarm[4] = 15
    }
    if (con == 10)
    {
        sprite_index = usprite
        con = 11
        alarm[4] = 30
    }
    if (con == 12)
    {
        sprite_index = spr_undyne_helmet_d_pissed
        image_speed = 0.2
        con = 13
        alarm[4] = 30
    }
    if (con == 14)
    {
        sans = 1
        con = 4
        active = true
    }
    if (con == 20)
    {
        if (distance_to_object(obj_mainchara) &lt; 60)
        {
            speed = 0
            image_index = 0
            image_speed = 0
            active = false
            con = 21
        }
    }
    if (instance_exists(OBJ_WRITER) == 0 &amp;&amp; con == 21)
    {
        active = true
        con = 4
    }
    if (active == 4)
    {
        rememberx[i] = x
        remembery[i] = y
        for (i = 60; i &gt; 0; i -= 1)
        {
            rememberx[i] = rememberx[(i - 1)]
            remembery[i] = remembery[(i - 1)]
        }
    }
    if (global.flag[350] == 1 &amp;&amp; STOPPER == 0)
    {
        global.mercy = 0
        audio_stop_all()
        audio_stop_all()
        global.plot = 122
        global.interact = 0
        STOPPER = 1
        visible = false
        con = 40
        alarm[4] = 2
    }
}
if (con == 41)
{
    global.flag[17] = 0
    audio_stop_all()
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.entrance == 1 || global.entrance == 2)
    global.flag[17] = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
