<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>murder = 0
if (scr_murderlv() &gt;= 12)
    murder = 1
instance_create(0, 0, obj_fader)
vol = 0.8
if (global.flag[7] == 0)
{
    shopmus = mus_date
    caster_loop(shopmus, vol, 1)
    if (murder == 1)
        audio_sound_pitch(shopmus, 0.25)
}
menumax = 3
menu = 0
menuc[0] = 0
menuc[1] = 0
menuc[2] = 0
menuc[3] = 0
menuc[4] = 0
item0pic = spr_heart
item1pic = spr_heart
item2pic = spr_heart
item3pic = spr_heart
item[0] = 59
item[1] = 49
item[2] = 48
item[3] = 60
sell = 0
bought = 0
mainmessage = 0
itemcost[0] = 25
itemcost[1] = 350
itemcost[2] = 350
itemcost[3] = 600
if (murder == 1)
{
    itemcost[0] = 0
    itemcost[1] = 0
    itemcost[2] = 0
    itemcost[3] = 0
}
minimenuy = 120
global.typer = 23
scr_setfont(fnt_maintext)
sidemessage = 0
selling = 0
global.msc = 0
glow = 0
shx = 130
soldo = 0
global.faceemotion = 0
global.flag[20] = 0
cattywriter = 1
brattywriter = 2
cwe = 0
bwe = 0
catty = obj_shopkeeper_catty
bratty = obj_shopkeeper_bratty
if (murder == 1)
    obj_shopkeeper_catty.visible = false
if (murder == 1)
    obj_shopkeeper_bratty.visible = false
con = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>con += 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.flag[7] == 0)
    audio_stop_sound(shopmus)
instance_create(0, 0, obj_persistentfader)
room_goto(room_fire_hotelfront_2)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.flag[7] == 0)
{
    audio_sound_gain(shopmus, vol, 0)
    vol -= 0.02
    alarm[2] = 1
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>cattywriter = instance_create(145, 110, OBJ_WRITER)
cattywriter.mycolor = 16759772
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="12">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>brattywriter = instance_create(-10, 110, OBJ_WRITER)
brattywriter.mycolor = 13941759
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(0, 0, obj_unfader)
alarm[2] = 1
alarm[3] = 40
global.entrance = 24
global.interact = 3

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var wdiff, adiff, wdiffs, adiffs, soldout, divider_x, bratty_x, catty_x, i, pad, cost, hearty, heartx, textx, writerx;
if (menu == 1 || menu == 2)
{
    wdiff = 12 - global.wstrength
    adiff = 12 - global.adef
    wdiffs = string(wdiff)
    if (wdiff &gt;= 0)
        wdiffs = "+" + wdiffs
    adiffs = string(adiff)
    if (adiff &gt;= 0)
        adiffs = "+" + adiffs
    soldout = 0
    if (menuc[1] == 1)
        soldout = global.flag[442] != 0
    if (menuc[1] == 2)
        soldout = global.flag[443] != 0
    if (menuc[1] == 3)
        soldout = global.flag[444] != 0
    if (menuc[1] &gt;= 0 &amp;&amp; menuc[1] &lt;= 3)
    {
        if soldout
            scr_shop_draw_infobox(minimenuy, scr_gettext("shop3_itemdesc_soldout")) // SOLD OUT!
        else
            scr_shop_draw_infobox(minimenuy, scr_gettext(("shop3_itemdesc_" + string(item[menuc[1]])), wdiffs, adiffs))
    }
}
scr_shop_draw_window(menu &lt; 4)
if (menu == 0)
{
    divider_x = 105
    if (global.language == "ja")
        divider_x = 111
    draw_set_color(c_white)
    ossafe_fill_rectangle(divider_x, 124, (divider_x + 2), 236)
}
else if (menu == 4)
{
    draw_set_color(c_white)
    ossafe_fill_rectangle(157, 124, 159, 236)
}
draw_set_color(c_white)
if (menu == 0)
{
    sell = 0
    selling = 0
    sidemessage = 0
    menuc[1] = 0
    menuc[2] = 0
    menuc[3] = 0
    menuc[4] = 0
    if (instance_exists(OBJ_WRITER) == 0)
    {
        global.msg[0] = scr_gettext("obj_shop3_357") // * Don't be shy now./*
        if (mainmessage == 0)
            global.msg[0] = scr_gettext("obj_shop3_358") // * Hey^1!&amp;* Check it&amp;  out!/*
        if (murder == 1)
            global.msg[0] = scr_gettext("obj_shop3_359") // * But^1, like./*
        bratty_x = -10
        catty_x = 93
        if (global.language == "ja")
        {
            bratty_x -= 3
            catty_x += 4
        }
        brattywriter = instance_create(bratty_x, 110, OBJ_WRITER)
        brattywriter.mycolor = 13941759
        global.msg[0] = scr_gettext("obj_shop3_362") // * Yeah!&amp;* Check it&amp;  out!/*
        if (murder == 1)
            global.msg[0] = scr_gettext("obj_shop3_363") // * Nobody&amp;  came and&amp;  stuff./*
        cattywriter = instance_create(catty_x, 110, OBJ_WRITER)
        cattywriter.mycolor = 16759772
        catty.face = 0
        bratty.face = 0
        catty.armexp = 0
        bratty.armexp = 0
        global.faceemotion = 0
        global.flag[20] = 0
    }
    else if control_check_pressed(1)
    {
        with (OBJ_WRITER)
        {
            if (halt == false)
                stringpos = string_length(originalstring)
            control_clear(1)
        }
    }
    menumax = 3
    scr_shop_draw_topmenu(murder != 0)
    if control_check_pressed(0)
    {
        OBJ_WRITER.dfy = 1
        control_clear(0)
        if (menuc[0] == 0)
            menu = 1
        if (menuc[0] == 1)
        {
            sell = 1
            menu = 4
        }
        if (menuc[0] == 2)
        {
            if (murder == 0)
                menu = 3
            else
            {
                sell = 7
                menu = 4
            }
        }
        if (menuc[0] == 3)
        {
            sell = 2
            menu = 4
        }
    }
}
if (menu == 1 || menu == 2)
{
    for (i = 0; i &lt; 4; i++)
    {
        soldout = 0
        if (i == 1)
            soldout = global.flag[442] != 0
        if (i == 2)
            soldout = global.flag[443] != 0
        if (i == 3)
            soldout = global.flag[444] != 0
        if soldout
        {
            draw_set_color(c_gray)
            draw_text(30, (130 + 20 * i), scr_gettext("shop_buy_soldout")) // --- SOLD OUT ---
            draw_set_color(c_white)
        }
        else
        {
            pad = "  "
            if (global.language == "ja")
                pad = " "
            if (itemcost[i] &lt; 100)
            {
                if (murder == 1)
                    cost = pad + "00"
                else
                    cost = pad + string(itemcost[i])
            }
            else if (murder == 1)
                cost = "000"
            else
                cost = string(itemcost[i])
            draw_text(30, (130 + 20 * i), scr_gettext("shop_buy_list", cost, scr_gettext("item_name_" + string(item[i]))))
        }
    }
    draw_text(30, 210, scr_gettext("shop_exit_submenu")) // Exit
    if (menu == 1)
    {
        menumax = 4
        if (instance_exists(OBJ_WRITER) == 0)
        {
            if (murder == 0)
            {
                if (sidemessage == 0)
                    global.msg[0] = scr_gettext("obj_shop3_474") // \E0You should&amp;buy ALL&amp;our stuff!/*
                if (sidemessage == 1)
                    global.msg[0] = scr_gettext("obj_shop3_475") // \E4Bratty!&amp;We're&amp;gonna&amp;be rich!/*
                if (sidemessage == 2)
                    global.msg[0] = scr_gettext("obj_shop3_476") // \E0So are&amp;you gonna&amp;buy it??/*
                if (sidemessage == 3)
                    global.msg[0] = scr_gettext("obj_shop3_477") // \E0You need&amp;WAY more&amp;money./*
                if (sidemessage == 4)
                    global.msg[0] = scr_gettext("obj_shop3_478") // \E0You have&amp;TOO many&amp;items!!!/*
                if (sidemessage == 5)
                    global.msg[0] = scr_gettext("obj_shop3_479") // \E4We're all&amp;$$$$$old&amp;out!&amp;Mee-YOW!/*
            }
            else
                global.msg[0] = scr_gettext("obj_shop3_481") // /*
            cattywriter = instance_create(210, 110, OBJ_WRITER)
            cattywriter.mycolor = 16759772
        }
        hearty = 134
        if (global.language == "ja")
            hearty -= 2
        draw_sprite(spr_heartsmall, 0, 15, (hearty + menuc[1] * 20))
        if control_check_pressed(0)
        {
            soldout = 0
            if (menuc[1] == 1 &amp;&amp; global.flag[442] == 1)
                soldout = 1
            if (menuc[1] == 2 &amp;&amp; global.flag[443] == 1)
                soldout = 1
            if (menuc[1] == 3 &amp;&amp; global.flag[444] == 1)
                soldout = 1
            if (soldout == 0)
                menu = 2
            else
                sidemessage = 5
            OBJ_WRITER.dfy = 1
            if (menuc[1] == menumax)
                menu = 0
        }
        else if control_check_pressed(1)
        {
            menu = 0
            OBJ_WRITER.dfy = 1
        }
        if (menu == 2)
            control_clear(0)
        menuc[2] = 0
    }
    if (menu == 2)
    {
        heartx = scr_shop_divider_pos() + 15
        textx = heartx + 5
        if (global.language == "ja")
            textx -= 8
        menumax = 1
        draw_text(textx, 130, scr_gettext("shop_buy_prompt1", string(itemcost[menuc[1]])))
        draw_text(textx, 145, scr_gettext("shop_buy_prompt2", string(itemcost[menuc[1]])))
        draw_text((heartx + 15), 170, scr_gettext("yes")) // Yes
        draw_text((heartx + 15), 185, scr_gettext("no")) // No
        hearty = 174
        if (global.language == "ja")
            hearty -= 2
        draw_sprite(spr_heartsmall, 0, heartx, (hearty + menuc[2] * 15))
        if control_check_pressed(1)
        {
            menu = 1
            control_clear(1)
            sidemessage = 2
        }
        else if control_check_pressed(0)
        {
            control_clear(0)
            if (menuc[2] == 0)
            {
                scr_cost(itemcost[menuc[1]])
                if (afford == 1)
                {
                    script_execute(scr_itemget, item[menuc[1]])
                    if (noroom == 0)
                    {
                        global.gold -= itemcost[menuc[1]]
                        audio_play_sound(snd_buyitem,80,false)
                        sidemessage = 1
                        if (menuc[1] == 1)
                            global.flag[442] = 1
                        if (menuc[1] == 2)
                            global.flag[443] = 1
                        if (menuc[1] == 3)
                            global.flag[444] = 1
                    }
                    if (noroom == 1)
                        sidemessage = 4
                }
                else
                    sidemessage = 3
            }
            if (menuc[2] == 1)
                sidemessage = 2
            menu = 1
        }
    }
    if (menuc[1] != 4)
    {
        if (minimenuy &gt; (120 - scr_shop_infobox_height(0)))
            minimenuy -= 3
        if (minimenuy &gt; 55)
            minimenuy -= 2
        if (minimenuy &gt; 80)
            minimenuy -= 4
        if (minimenuy &gt; 100)
            minimenuy -= 5
    }
    else if (minimenuy &lt; 120)
        minimenuy += 20
}
if (menu == 3)
{
    menumax = 4
    if (global.flag[7] != 1)
    {
        if (global.flag[437] &lt; 2)
            scr_shop_draw_talktitle(0, 0, scr_gettext("shop3_talk1a_title")) // About you two
        if (global.flag[437] == 2)
            scr_shop_draw_talktitle(0, 1, scr_gettext("shop3_talk1b_title")) // Burgerpants (NEW)
        if (global.flag[437] == 4)
            scr_shop_draw_talktitle(0, 1, scr_gettext("shop3_talk1c_title")) // More Burgerpants (NEW)
        if (global.flag[437] == 5)
            scr_shop_draw_talktitle(0, 0, scr_gettext("shop3_talk1a_title")) // About you two
        if (global.flag[437] == 6)
            scr_shop_draw_talktitle(0, 1, scr_gettext("shop3_talk1d_title")) // B.Pants Hangout? (NEW)
        if (global.flag[437] == 7)
            scr_shop_draw_talktitle(0, 1, scr_gettext("shop3_talk1e_title")) // That Kind of Guy (NEW)
        if (global.flag[437] &gt;= 8)
            scr_shop_draw_talktitle(0, 0, scr_gettext("shop3_talk1a_title")) // About you two
        if (global.flag[405] == 0)
            scr_shop_draw_talktitle(1, 0, scr_gettext("shop3_talk2a_title")) // About your wares
        if (global.flag[405] == 1)
            scr_shop_draw_talktitle(1, 1, scr_gettext("shop3_talk2b_title")) // Origin of wares (NEW)
        if (global.flag[405] == 2)
            scr_shop_draw_talktitle(1, 1, scr_gettext("shop3_talk2c_title")) // Origin of garbage (NEW)
        if (global.flag[405] == 3)
            scr_shop_draw_talktitle(1, 0, scr_gettext("shop3_talk2d_title")) // Origin of garbage
        if (global.flag[406] == 0)
            scr_shop_draw_talktitle(2, 0, scr_gettext("shop3_talk3a_title")) // About Mettaton
        if (global.flag[406] == 1)
            scr_shop_draw_talktitle(2, 1, scr_gettext("shop3_talk3b_title")) // Origin of Mettaton (NEW)
        if (global.flag[406] == 2)
        {
            draw_set_color(c_white)
            scr_shop_draw_talktitle(2, 0, scr_gettext("shop3_talk3c_title")) // About Mettaton (OLD???)
            draw_set_color(c_white)
        }
        if (global.flag[407] == 0)
            scr_shop_draw_talktitle(3, 0, scr_gettext("shop3_talk4a_title")) // About Alphys
        if (global.flag[407] == 1)
            scr_shop_draw_talktitle(3, 1, scr_gettext("shop3_talk4b_title")) // Royal Scientist (NEW)
        if (global.flag[407] == 2)
            scr_shop_draw_talktitle(3, 1, scr_gettext("shop3_talk4c_title")) // About ASGORE (NEW)
        if (global.flag[407] == 3)
        {
            draw_set_color(c_white)
            scr_shop_draw_talktitle(3, 0, scr_gettext("shop3_talk4d_title")) // About ASGORE
            draw_set_color(c_white)
        }
    }
    if (global.flag[7] == 1)
    {
        scr_shop_draw_talktitle(0, 0, scr_gettext("shop3_talk5_title")) // Freedom
        scr_shop_draw_talktitle(1, 0, scr_gettext("shop3_talk6_title")) // I'm a human
        scr_shop_draw_talktitle(2, 0, scr_gettext("shop3_talk7_title")) // Future
        scr_shop_draw_talktitle(3, 0, scr_gettext("shop3_talk8_title")) // Do You Like Cats
    }
    scr_shop_draw_talkmenu()
    if (instance_exists(OBJ_WRITER) == 0)
    {
        global.faceemotion = 0
        global.flag[20] = 0
        catty.face = 0
        bratty.face = 0
        catty.armexp = 0
        bratty.armexp = 0
        global.msg[0] = scr_gettext("obj_shop3_599") // So, like,&amp;what's up?/*
        writerx = 210
        if (global.language == "ja")
            writerx += 2
        brattywriter = instance_create(writerx, 110, OBJ_WRITER)
        brattywriter.mycolor = 13941759
    }
    if control_check_pressed(0)
    {
        OBJ_WRITER.dfy = 1
        if (menuc[3] &lt; menumax)
        {
            sell = menuc[3] + 3
            control_clear(0)
            menu = 4
        }
        else
            menu = 0
    }
    else if control_check_pressed(1)
    {
        control_clear(1)
        menu = 0
        OBJ_WRITER.dfy = 1
    }
}
if (menu &lt; 4)
    scr_shop_draw_status()
if (menu == 4)
{
    if (sell == 0)
        menu = 0
    if (instance_exists(OBJ_WRITER) == 0 &amp;&amp; selling == 0)
    {
        if (sell == 1)
        {
            if (murder == 0)
            {
                scr_itemcheck(40)
                if (haveit == false)
                {
                    global.msg[0] = scr_gettext("obj_shop3_650") // * Thanks^1, but we^1,&amp;  like^1, don't&amp;  really need&amp;  anything./*
                    event_user(2)
                    con = 75
                }
                if (haveit == true)
                {
                    con = 81
                    global.msg[0] = scr_gettext("obj_shop3_658") // \M2* Oh my God^1.&amp;* Is that a&amp;  glamburger?/*
                    event_user(2)
                }
            }
            else if (global.flag[256] == 0)
            {
                global.flag[256] = 1
                global.gold += 5
                global.msg[0] = scr_gettext("obj_shop3_668") // * Stole 5G&amp;  from the&amp;  till./%%
                event_user(2)
            }
            else
            {
                global.msg[0] = scr_gettext("obj_shop3_673") // * The till&amp;  is empty./%%
                event_user(2)
            }
        }
        if (sell == 2)
        {
            if (murder == 0)
            {
                global.msg[0] = scr_gettext("obj_shop3_683") // * Like^1, see&amp;  you later!/*
                event_user(2)
                global.msg[0] = scr_gettext("obj_shop3_685") // * Like^1, later&amp;  and stuff!/*
                event_user(3)
            }
            else
            {
                global.msg[0] = scr_gettext("obj_shop3_690") // * .../*
                event_user(2)
                global.msg[0] = scr_gettext("obj_shop3_692") // * .../*
                event_user(3)
            }
        }
        if (sell == 3)
        {
            if (global.flag[437] != 2 &amp;&amp; global.flag[437] != 4 &amp;&amp; global.flag[437] != 6 &amp;&amp; global.flag[437] != 7 &amp;&amp; global.flag[7] != 1)
            {
                con = 4
                global.msg[0] = scr_gettext("obj_shop3_710") // * I'm Bratty^1, and&amp;  this is my&amp;  best friend^1,&amp;  Catty./*
                brattywriter = instance_create(-10, 110, OBJ_WRITER)
                brattywriter.mycolor = 13941759
                global.msg[0] = scr_gettext("obj_shop3_713") // * I'm Catty^1, and&amp;  this is my&amp;  best friend^1,&amp;  Bratty./*
                cattywriter = instance_create(145, 110, OBJ_WRITER)
                cattywriter.mycolor = 16759772
            }
            else if (global.flag[7] == 0)
            {
                if (global.flag[437] == 7)
                {
                    global.flag[437] = 8
                    global.msg[0] = scr_gettext("obj_shop3_726") // \M3* Well^1, that kind&amp;  of guy.../
                    global.msg[1] = scr_gettext("obj_shop3_727") // \M5* You hang out&amp;  with him once^1,&amp;  then he wants&amp;  to hang out.../
                    global.msg[2] = scr_gettext("obj_shop3_728") // \M2* All^1.&amp;* The^1.&amp;* Time./%%
                    event_user(2)
                    con = 160
                }
                if (global.flag[437] == 6)
                {
                    global.flag[437] = 7
                    global.msg[0] = scr_gettext("obj_shop3_736") // \M5* Oh^1, uh.../*
                    event_user(2)
                    con = 140
                }
                if (global.flag[437] == 4)
                {
                    global.flag[437] = 5
                    global.msg[0] = scr_gettext("obj_shop3_745") // \M4* OK^1, like^1,&amp;  the annoying&amp;  thing is.../*
                    event_user(2)
                    con = 120
                }
                if (global.flag[437] == 2)
                {
                    global.flag[437] = 4
                    global.msg[0] = scr_gettext("obj_shop3_754") // \M2* Oh^1, that guy&amp;  from the&amp;  store^1?&amp;*\M4 Yuck^1, what a&amp;  creep./*
                    event_user(2)
                    con = 110
                }
            }
            else
            {
                global.msg[0] = scr_gettext("obj_shop3_763") // \M0* So^1, we're&amp;  like^1,&amp;  totally&amp;  free now^1,&amp;  huh?/*
                event_user(2)
                con = 170
            }
        }
        if (sell == 4)
        {
            if (global.flag[7] == 0)
            {
                if (global.flag[405] == 2 || global.flag[405] == 3)
                {
                    global.msg[0] = scr_gettext("obj_shop3_778") // * Where do we&amp;  get the&amp;  garbage?/
                    global.msg[1] = scr_gettext("obj_shop3_779") // \M4* Like^1, the&amp;  garbage store^1,&amp;  duh!!!/%%
                    event_user(2)
                    con = 22
                }
                if (global.flag[405] == 1)
                {
                    global.msg[0] = scr_gettext("obj_shop3_788") // * I mean^1, like^1,&amp;  where does&amp;  anyone get guns^1,&amp;  or food^1, or.../*
                    event_user(2)
                    con = 16
                }
                if (global.flag[405] == 0)
                {
                    con = 10
                    global.msg[0] = scr_gettext("obj_shop3_798") // * The stuff&amp;  inside^1, is&amp;  like.../*
                    event_user(2)
                }
                if (global.flag[405] == 2)
                    global.flag[405] = 3
                if (global.flag[405] == 1)
                    global.flag[405] = 2
                if (global.flag[405] == 0)
                    global.flag[405] = 1
            }
            else
            {
                global.msg[0] = scr_gettext("obj_shop3_807") // \M2* Oh^1, oops^1,&amp;  really?/
                global.msg[1] = scr_gettext("obj_shop3_808") // \M3* Uh^1, well^1,&amp;  when we&amp;  said^1, um.../
                global.msg[2] = scr_gettext("obj_shop3_809") // * We were&amp;  hyped for the&amp;  destruction&amp;  of humanity.../
                global.msg[3] = scr_gettext("obj_shop3_810") // * We were^1,&amp;  just^1, like^1,&amp;  joking^1, you&amp;  know?/%%
                event_user(2)
                con = 180
            }
        }
        if (sell == 5)
        {
            if (global.flag[7] == 0)
            {
                if (global.flag[406] == 1)
                {
                    global.msg[0] = scr_gettext("obj_shop3_822") // * So^1, like^1,&amp;  Dr. Alphys&amp;  built Mettaton^1,&amp;  right?/*
                    event_user(2)
                    con = 40
                }
                if (global.flag[406] == 0 || global.flag[406] == 2)
                {
                    global.msg[0] = scr_gettext("obj_shop3_829") // \M6* Oh my God^1.&amp;* Mettaton./
                    global.msg[1] = scr_gettext("obj_shop3_830") // \M6* He's like..^1.&amp;* My robot&amp;  husband.          /
                    global.msg[2] = scr_gettext("obj_shop3_831") // \M4* I think we're&amp;  like..^1. both&amp;  going to marry&amp;  him./*
                    event_user(2)
                    global.msg[0] = scr_gettext("obj_shop3_833") // \E2* Oh my GOD^1,&amp;* METTATON./
                    global.msg[1] = scr_gettext("obj_shop3_834") // \E2* Actually he's&amp;  like..^1.&amp;* MY robot&amp;  husband./
                    global.msg[2] = scr_gettext("obj_shop3_835") // * We're both&amp;  like^1, ALREADY&amp;  married to&amp;  him./*
                    global.msg[3] = scr_gettext("obj_shop3_836") // \E6* He just^1, like^1,&amp;  doesn't know&amp;  it yet./%%
                    event_user(3)
                    con = 900
                }
                if (global.flag[406] == 1)
                    global.flag[406] = 2
                if (global.flag[406] == 0)
                    global.flag[406] = 1
            }
            else
            {
                global.msg[0] = scr_gettext("obj_shop3_845") // * Hmmm..^1.&amp;* Now that&amp;  we're&amp;  gonna be&amp;  free.../*
                event_user(2)
                con = 190
            }
        }
        if (sell == 6)
        {
            if (global.flag[7] == 0)
            {
                if (global.flag[407] == 0)
                {
                    global.msg[0] = scr_gettext("obj_shop3_859") // \M5* Oh my God^1.&amp;* Alphys./
                    global.msg[1] = scr_gettext("obj_shop3_860") // \M0* She used to&amp;  live on our&amp;  street./*
                    event_user(2)
                    global.msg[0] = scr_gettext("obj_shop3_862") // \E7* Oh my god^1,&amp;* ALPHYS./
                    global.msg[1] = scr_gettext("obj_shop3_863") // \E0* She was like&amp;  a big sister./*
                    event_user(3)
                    con = 50
                }
                if (global.flag[407] == 1)
                {
                    global.msg[0] = scr_gettext("obj_shop3_870") // \M0* So Alphys&amp;  has always^1,&amp;  like.../*
                    event_user(2)
                    con = 60
                }
                if (global.flag[407] == 2 || global.flag[407] == 3)
                {
                    global.msg[0] = scr_gettext("obj_shop3_879") // \M4* Oh my God^1.&amp;* He's a total&amp;  goober./
                    global.msg[1] = scr_gettext("obj_shop3_880") // \M0* Like^1, I LOVE&amp;  that guy./
                    global.msg[2] = scr_gettext("obj_shop3_881") // \M5* God^1, we're&amp;  like.../
                    global.msg[3] = scr_gettext("obj_shop3_882") // \M1* SO hyped for&amp;  the destruction&amp;  of humanity./*
                    event_user(2)
                    global.msg[0] = scr_gettext("obj_shop3_884") // \E0* He's a big^1,&amp;  fuzzy&amp;  goofball!!   /
                    global.msg[1] = scr_gettext("obj_shop3_885") // \E0* He's like^1,&amp;  SO nice.  /
                    global.msg[2] = scr_gettext("obj_shop3_886") // \E7* God^1, we're&amp;  like.../
                    global.msg[3] = scr_gettext("obj_shop3_887") // \E1* SO hyped for&amp;  the destruction&amp;  of humanity./*
                    event_user(3)
                    con = 999
                }
                if (global.flag[407] == 2)
                    global.flag[407] = 3
                if (global.flag[407] == 1)
                    global.flag[407] = 2
                if (global.flag[407] == 0)
                    global.flag[407] = 1
            }
            else
            {
                global.msg[0] = scr_gettext("obj_shop3_898") // \M0* Me^1?&amp;* Yeah^1, I&amp;  LOVE cats!/
                global.msg[1] = scr_gettext("obj_shop3_899") // \M1* They're^1,&amp;  like^1,&amp;  SO tasty!!/*
                event_user(2)
                global.msg[0] = scr_gettext("obj_shop3_901") // \E8* Me^1?&amp;* Yeah^1, I&amp;  LOVE cats!/
                global.msg[1] = scr_gettext("obj_shop3_902") // \E1* They're^1,&amp;  like^1,&amp;  SO cute!!!/*
                event_user(3)
                con = 200
            }
        }
        if (sell == 7)
        {
            global.msg[0] = scr_gettext("obj_shop3_910") // * Hey^1, this is&amp;  Bratty!/*
            event_user(2)
            global.msg[0] = scr_gettext("obj_shop3_912") // * Hey^1, this is&amp;  Catty!/*
            event_user(3)
            con = 250
        }
        if (instance_exists(OBJ_WRITER) == 0)
            instance_create(10, 110, OBJ_WRITER)
        selling = 1
    }
    if (con == 4 &amp;&amp; brattywriter.halt != false &amp;&amp; cattywriter.halt != false &amp;&amp; control_check_pressed(0))
    {
        control_clear(0)
        with (brattywriter)
            instance_destroy()
        with (cattywriter)
            instance_destroy()
        audio_pause_sound(shopmus)
        mew = mus_myemeow
        selling = 4
        con = 5
        global.faceemotion = 7
        global.flag[20] = 5
        alarm[4] = 30
    }
    if (con == 6 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
    {
        caster_play(mew, 0.5, 0.9)
        selling = 4
        con = 7
        global.faceemotion = 1
        global.flag[20] = 1
        alarm[4] = 50
    }
    if (con == 8)
    {
        audio_stop_sound(mew)
        selling = 1
        con = 0
        audio_resume_sound(shopmus)
    }
    if (con == 10)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_959") // \E3* TOTALLY wicked&amp;  expensive./%%
            event_user(3)
            con = 11
        }
    }
    if (con == 11)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_970") // * But^1, like^1, this&amp;  stuff we found&amp;  is like.../*
            event_user(2)
            con = 12
        }
    }
    if (con == 12)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_980") // \E3* TOTALLY wicked&amp;  cheap./%%
            event_user(3)
            con = 13
        }
    }
    if (con == 13)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_991") // \M5* You should.../
            global.msg[1] = scr_gettext("obj_shop3_992") // \M1* TOTALLY wicked&amp;  buy all of&amp;  it?/*
            event_user(2)
            global.msg[0] = scr_gettext("obj_shop3_994") // \E7* Like...      /
            global.msg[1] = scr_gettext("obj_shop3_995") // \E4* TOTALLY wicked&amp;  buy all of&amp;  it?/*
            event_user(3)
            con = 998
        }
    }
    if (con == 16)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.flag[20] = 2
            global.msg[0] = scr_gettext("obj_shop3_1014") // \E1* We found it in&amp;  the garbage!/%%
            event_user(3)
            con = 17
        }
    }
    if (con == 17 &amp;&amp; instance_exists(cattywriter) == 0)
    {
        audio_pause_sound(shopmus)
        with (brattywriter)
            instance_destroy()
        global.faceemotion = 5
        global.flag[20] = 5
        con = 18
        alarm[4] = 70
    }
    if (con == 19)
    {
        audio_resume_sound(shopmus)
        global.msg[0] = scr_gettext("obj_shop3_1033") // \M3* It's GOOD&amp;  garbage./*
        event_user(2)
        global.msg[0] = scr_gettext("obj_shop3_1035") // \E4* It's like^1,&amp;  really good&amp;  garbage./%%
        event_user(3)
        con = 20
    }
    if (con == 20)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            con = 0
            selling = 1
        }
    }
    if (con == 22)
    {
        selling = 4
        if (instance_exists(brattywriter) == 0)
        {
            global.msg[0] = scr_gettext("obj_shop3_1055") // \M5* ...../
            global.msg[1] = scr_gettext("obj_shop3_1056") // \M1* Waterfall&amp;  mostly./*
            event_user(2)
            global.msg[0] = scr_gettext("obj_shop3_1058") // \E7* ...../
            global.msg[1] = scr_gettext("obj_shop3_1059") // \E1* I found a gun&amp;  in a dumpster!/%%
            event_user(3)
            selling = 1
            con = 130
        }
    }
    if (con == 40)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1071") // \E6* That's like^1,&amp;  what they&amp;  TELL you./%%
            event_user(3)
            con = 41
        }
    }
    if (con == 41)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1082") // \M2* But like..^1.&amp;* Mettaton always&amp;  acts like.../*
            event_user(2)
            con = 42
        }
    }
    if (con == 42)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1093") // \E5* ... being built&amp;  was HIS&amp;  idea somehow./%%
            event_user(3)
            con = 43
        }
    }
    if (con == 43)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1104") // \M5* And even right&amp;  after he was&amp;  built.../*
            event_user(2)
            con = 44
        }
    }
    if (con == 44)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1115") // \E7* ... he acted&amp;  like Alphys was&amp;  an old friend./%%
            event_user(3)
            con = 46
        }
    }
    if (con == 46)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1126") // \M4* But they're&amp;  like..^1.&amp;* Not friends&amp;  anymore./*
            event_user(2)
            con = 47
        }
    }
    if (con == 47)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1137") // \E1* Yeah!!^1!&amp;* Unlike me&amp;  and Bratty!^1!&amp;* Best friends&amp;  for-EVER!!!/%%
            event_user(3)
            con = 48
        }
    }
    if (con == 48 &amp;&amp; instance_exists(cattywriter) == 0)
    {
        with (brattywriter)
            instance_destroy()
        con = 0
        selling = 1
    }
    if (con == 50)
    {
        selling = 4
        if (brattywriter.halt != false &amp;&amp; cattywriter.halt != false &amp;&amp; control_check_pressed(0))
        {
            control_clear(0)
            with (brattywriter)
                instance_destroy()
            with (cattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1156") // \M4* I mean^1, like^1,&amp;  if your big&amp;  sister.../*
            event_user(2)
            con = 51
        }
    }
    if (con == 51)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1167") // \E1* Takes you on&amp;  trips to the&amp;  dump./%%
            event_user(3)
            con = 52
        }
    }
    if (con == 52)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1179") // \M0* She showed us&amp;  the coolest&amp;  places to&amp;  find trash./*
            event_user(2)
            con = 53
        }
    }
    if (con == 53)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1189") // \E7* She was always&amp;  collecting&amp;  these weird&amp;  cartoons./%%
            event_user(3)
            con = 54
        }
    }
    if (con == 54)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1201") // \M5* Then she&amp;  became the&amp;  Royal&amp;  Scientist.../*
            event_user(2)
            con = 55
        }
    }
    if (con == 55)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1211") // \E5* Yeah^1, we&amp;  haven't seen&amp;  her in&amp;  forever.../%%
            event_user(3)
            con = 56
        }
    }
    if (con == 56 &amp;&amp; instance_exists(cattywriter) == 0)
    {
        with (brattywriter)
            instance_destroy()
        selling = 1
        con = 0
    }
    if (con == 60)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1231") // \E2* Thought ASGORE&amp;  is a SUPER&amp;  cutie./%%
            event_user(3)
            con = 61
        }
    }
    if (con == 61)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1243") // \M4* So^1, like^1, I'm&amp;  pretty sure&amp;  she.../*
            event_user(2)
            con = 62
        }
    }
    if (con == 62)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1253") // \E0* Made Mettaton&amp;  to^1, like^1,&amp;  totally&amp;  impress him./%%
            event_user(3)
            con = 62.1
        }
    }
    if (con == 62.1)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1265") // \M2* A robot with a&amp;  SOUL.../*
            event_user(2)
            con = 62.2
        }
    }
    if (con == 62.2)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1275") // \E5* That's^1, like^1,&amp;  SUPER relevant&amp;  to his hobbies!/%%
            event_user(3)
            con = 62.3
        }
    }
    if (con == 62.3)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1288") // \M0* So after seeing&amp;  Mettaton^1,&amp;  ASGORE.../*
            event_user(2)
            con = 62.4
        }
    }
    if (con == 62.4)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1298") // \E0* Asked her to do&amp;  all this science&amp;  stuff for him!/
            global.msg[1] = scr_gettext("obj_shop3_1299") // \E5* But nobody's^1,&amp;  like^1, seen&amp;  anything from&amp;  her yet./%%
            event_user(3)
            con = 65
        }
    }
    if (con == 65)
    {
        if instance_exists(cattywriter)
        {
            if (cattywriter.stringno == 1)
            {
                with (brattywriter)
                    instance_destroy()
            }
        }
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1319") // \M2* Or...&amp;  her at all.../*
            event_user(2)
            con = 66
        }
    }
    if (con == 66)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1329") // \E0* She must^1,&amp;  like^1, just&amp;  stay in her&amp;  lab all day./%%
            event_user(3)
            con = 67
        }
    }
    if (con == 67)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1341") // \M4* Like^1, live&amp;  a little^1,&amp;  girl./*
            event_user(2)
            con = 68
        }
    }
    if (con == 68)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1351") // \E1* Yeah!!^1!&amp;* Like us!!!/%%
            event_user(3)
            con = 70
        }
    }
    if (con == 70 &amp;&amp; instance_exists(cattywriter) == 0)
    {
        with (brattywriter)
            instance_destroy()
        con = 0
        selling = 1
    }
    if (con == 75)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.flag[20] = 5
            global.msg[0] = scr_gettext("obj_shop3_1371") // \E4* Oh my god^1,&amp;  can you go&amp;  get us some&amp;  Glamburgers?/%%
            event_user(3)
            con = 76
        }
    }
    if (con == 76)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1383") // \M0* We don't.&amp;* Really need^1.&amp;* Anything./*
            event_user(2)
            con = 77
        }
    }
    if (con == 77)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1395") // \E2* Wait^1! I'll pay&amp;  you 1000G if&amp;  you get Mettaton&amp;  to autograph&amp;  my butt!/%%
            event_user(3)
            con = 78
        }
    }
    if (con == 78 &amp;&amp; instance_exists(cattywriter) == 0)
    {
        with (brattywriter)
            instance_destroy()
        con = 0
        selling = 1
    }
    if (con == 81)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.flag[20] = 5
            global.msg[0] = scr_gettext("obj_shop3_1415") // \E4* OH MY GOD!!^1!&amp;* GIMME!!!/%%
            event_user(3)
            con = 83
        }
    }
    if (con == 83)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1427") // \M4* God^1, Catty.&amp;* Try to have&amp;  some&amp;  self-control./*
            event_user(2)
            con = 84
        }
    }
    if (con == 84)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1439") // \E5* Sorry.../%%
            event_user(3)
            con = 85
        }
    }
    if (con == 85)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1451") // \M6* 'Cause they&amp;  OBVIOUSLY&amp;  brought that&amp;  Glamburger&amp;  for ME./*
            event_user(2)
            con = 86
        }
    }
    if (con == 86)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1463") // \E1* NOOO WAYYY!!!!!/%%
            event_user(3)
            con = 87
        }
    }
    if (con == 87 &amp;&amp; instance_exists(cattywriter) == 0)
    {
        with (brattywriter)
            instance_destroy()
        con = 0
        selling = 1
    }
    if (con == 110)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1484") // \E5* Yeah^1! He's&amp;  a creep!/%%
            event_user(3)
            con = 111
        }
    }
    if (con == 111 &amp;&amp; instance_exists(cattywriter) == 0)
    {
        with (brattywriter)
            instance_destroy()
        con = 112
        global.flag[20] = 2
        global.msg[0] = scr_gettext("obj_shop3_1495") // \E7* But he's kind&amp;  of cute^1,&amp;  too.../%%
        event_user(3)
    }
    if (con == 112)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            global.msg[0] = scr_gettext("obj_shop3_1504") // \M4* C'mon^1,&amp;  Catty^1, don't&amp;  you have&amp;  ANY&amp;  standards^2?/*
            event_user(2)
            con = 113
        }
    }
    if (con == 113)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.flag[20] = 1
            global.msg[0] = scr_gettext("obj_shop3_1517") // \E1*\M1 Nope!!!/%%
            event_user(3)
            con = 114
        }
    }
    if (con == 114 &amp;&amp; instance_exists(cattywriter) == 0)
    {
        with (brattywriter)
            instance_destroy()
        con = 0
        selling = 1
    }
    if (con == 120)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1537") // \E7* He'd be OK&amp;  if he just&amp;  treated us&amp;  with some&amp;  respect./%%
            event_user(3)
            con = 121
        }
    }
    if (con == 121)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1549") // \M5* But he just&amp;  acts..^1.&amp;* Really&amp;  weird./*
            event_user(2)
            con = 122
        }
    }
    if (con == 122)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1561") // \E5* And then acts&amp;  like it's OUR&amp;  fault he&amp;  acts that&amp;  way!/%%
            event_user(3)
            con = 123
        }
    }
    if (con == 123)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1573") // \M0* Like^1, when&amp;  we asked him&amp;  to get those&amp;  Glamburgers.../*
            event_user(2)
            con = 124
        }
    }
    if (con == 124)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1586") // \E0* He dropped them&amp;  and ran away&amp;  before we&amp;  could even say&amp;  anything!/%%
            event_user(3)
            con = 126
        }
    }
    if (con == 126)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1598") // \M3* We were^1,&amp;  like^1, going&amp;  to share&amp;  them./*
            event_user(2)
            con = 127
        }
    }
    if (con == 127)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1610") // \E7* Really^1?&amp;* I wasn't./%%
            event_user(3)
            con = 128
        }
    }
    if (con == 128)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.faceemotion = 1
            global.flag[437] = 5
            global.msg[0] = scr_gettext("obj_shop3_1624") // \M1* Catty!!/%%
            event_user(2)
            con = 129
        }
    }
    if (con == 129 &amp;&amp; instance_exists(brattywriter) == 0)
    {
        with (cattywriter)
            instance_destroy()
        con = 0
        selling = 1
    }
    if (con == 130 &amp;&amp; instance_exists(cattywriter) == 0)
    {
        with (brattywriter)
            instance_destroy()
        con = 0
        selling = 1
    }
    if (con == 140)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1644") // \E1*\M2 Yeah!^1!&amp;* He should come&amp;  look for&amp;  junk with us!/%%
            event_user(3)
            con = 141
        }
    }
    if (con == 141)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.faceemotion = 7
            global.msg[0] = scr_gettext("obj_shop3_1657") // \M3* But like^1, if&amp;  we let him&amp;  hang out with&amp;  us..^1. I just&amp;  worry it'll.../*
            event_user(2)
            con = 142
        }
    }
    if (con == 142)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1669") // \E4*\M2 ... be really&amp;  super fun!/%%
            event_user(3)
            con = 143
        }
    }
    if (con == 143)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.faceemotion = 7
            global.msg[0] = scr_gettext("obj_shop3_1682") // \M1* Um^1, that was&amp;  NOT what I&amp;  was gonna say./*
            event_user(2)
            con = 145
        }
    }
    if (con == 145)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1694") // \E1* But I was&amp;  close^1, right!?/%%
            event_user(3)
            con = 114
        }
    }
    if (con == 160)
    {
        selling = 4
        if (instance_exists(brattywriter) == 0)
        {
            global.flag[20] = 5
            global.msg[0] = scr_gettext("obj_shop3_1707") // \E7* But don't you&amp;  feel bad for&amp;  him^1, Bratty?/
            global.msg[1] = scr_gettext("obj_shop3_1708") // \E5* Poor&amp;  Burgerpants.../
            global.msg[2] = scr_gettext("obj_shop3_1709") // \E4* Think about how&amp;  cool we are&amp;  compared to&amp;  him!!!/
            global.msg[3] = scr_gettext("obj_shop3_1710") // * We'd be saving&amp;  his LIFE with&amp;  our&amp;  friendship!!/
            global.msg[4] = scr_gettext("obj_shop3_1711") // \E1* His LIFE^1,&amp;  Bratty!!/%%
            event_user(3)
            con = 161
        }
    }
    if (con == 161)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.faceemotion = 8
            global.msg[0] = scr_gettext("obj_shop3_1724") // \M4* Uh^1, so?/%%
            event_user(2)
            con = 162
        }
    }
    if (con == 162)
    {
        selling = 4
        if (instance_exists(brattywriter) == 0)
        {
            global.msg[0] = scr_gettext("obj_shop3_1735") // \E7* ..^5. %
            global.msg[1] = scr_gettext("obj_shop3_1736") // \E1* Think of all&amp;  the glamburgers&amp;  he could get&amp;  for us!!/*
            event_user(3)
            con = 163
        }
    }
    if (con == 163)
    {
        selling = 4
        if (instance_exists(cattywriter) &amp;&amp; cattywriter.halt != false)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1749") // \M3* ... so is he&amp;  free after&amp;  work?/%%
            event_user(2)
            con = 129
        }
    }
    if (con == 170)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1761") // \E0* Yeah^1, like^1,&amp;  totally&amp;  free./%%
            event_user(3)
            con = 171
        }
    }
    if (con == 171)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1773") // * Like..^1.&amp;* Cool./*
            event_user(2)
            con = 172
        }
    }
    if (con == 172)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1785") // \E0* Yeah^1, like^1,&amp;  cool./%%
            event_user(3)
            con = 173
        }
    }
    if (con == 173)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1797") // * Like^1,&amp;  millennia&amp;  of being&amp;  imprisoned&amp;  finally over?/*
            event_user(2)
            con = 174
        }
    }
    if (con == 174)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1809") // \E0* Yeah^1, that's&amp;  like pretty&amp;  chill I guess./%%
            event_user(3)
            con = 114
        }
    }
    if (con == 180)
    {
        selling = 4
        if (!instance_exists(brattywriter))
        {
            global.flag[20] = 5
            global.msg[0] = scr_gettext("obj_shop3_1822") // \E7* Did we say&amp;  that?/%%
            event_user(3)
            con = 181
        }
    }
    if (con == 181)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1834") // \M4* Probably?/
            global.msg[1] = scr_gettext("obj_shop3_1835") // \M1* It's^1, like^1,&amp;  practically&amp;  our&amp;  catchphrase./%%
            event_user(2)
            con = 182
        }
    }
    if (con == 182)
    {
        selling = 4
        if (!instance_exists(brattywriter))
        {
            global.flag[20] = 5
            global.msg[0] = scr_gettext("obj_shop3_1847") // \E8* Really^1?&amp;* I thought our&amp;  catchphrase&amp;  was.../
            global.msg[1] = scr_gettext("obj_shop3_1848") // \E4* B-B-Bratty's&amp;  the best^1,&amp;  C-C-Catty's&amp;  the coolest!/%%
            event_user(3)
            con = 183
        }
    }
    if (con == 183)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            global.faceemotion = 7
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1861") // \M1* Um^1, no?/
            global.msg[1] = scr_gettext("obj_shop3_1862") // * We've like&amp;  literally&amp;  NEVER said&amp;  that./%%
            event_user(2)
            con = 184
        }
    }
    if (con == 184)
    {
        selling = 4
        if (!instance_exists(brattywriter))
        {
            global.msg[0] = scr_gettext("obj_shop3_1873") // \E1* CAN it be&amp;  though!^1?&amp;* CAN it be!?/%%
            event_user(3)
            con = 114
        }
    }
    if (con == 190)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.flag[20] = 5
            global.msg[0] = scr_gettext("obj_shop3_1886") // \E4* OMG^1, we&amp;  can finally&amp;  fulfill our&amp;  DREAM of having&amp;  a pet cat!/%%
            event_user(3)
            con = 191
        }
    }
    if (con == 191)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            global.faceemotion = 7
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1899") // \M1* That's^1, like^1,&amp;  YOUR dream^1,&amp;  Catty./*
            event_user(2)
            con = 192
        }
    }
    if (con == 192)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_1910") // * But Bratty.../
            global.msg[1] = scr_gettext("obj_shop3_1911") // \E5*\M5 I don't wanna&amp;  have a dream&amp;  without YOU&amp;  in it...!/%%
            event_user(3)
            con = 193
        }
    }
    if (con == 193)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1924") // * Aww..^1.&amp;* Catty..^3./*
            event_user(2)
            con = 194
        }
    }
    if (con == 194)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.flag[20] = 2
            global.msg[0] = scr_gettext("obj_shop3_1936") // \E1* And^1, in my&amp;  dream^1, YOU clean&amp;  up after&amp;  the cat!/%%
            event_user(3)
            con = 195
        }
    }
    if (con == 195)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_1949") // \M1* Catty!!!/%%
            event_user(2)
            con = 129
        }
    }
    if (con == 200 &amp;&amp; brattywriter.halt != false &amp;&amp; cattywriter.halt != false &amp;&amp; control_check_pressed(0))
    {
        control_clear(0)
        selling = 4
        audio_pause_sound(global.currentsong)
        with (cattywriter)
            instance_destroy()
        with (brattywriter)
            instance_destroy()
        global.faceemotion = 8
        global.flag[20] = 0
        con = 201
        alarm[4] = 70
    }
    if (con == 202)
    {
        selling = 4
        audio_stop_sound(global.currentsong)
        global.flag[20] = 1
        global.msg[0] = scr_gettext("obj_shop3_1974") // \E5* Bratty&amp;  NOOOO!!!/%%
        event_user(3)
        con = 203
    }
    if (con == 203)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.faceemotion = 1
            global.msg[0] = scr_gettext("obj_shop3_1987") // \M1* I'm just&amp;  kidding!!/
            global.msg[1] = scr_gettext("obj_shop3_1988") // \M4*\E8 Kind of./
            global.msg[2] = scr_gettext("obj_shop3_1989") // \M5*\E7 Anyway^1, when&amp;  was the last&amp;  time you even&amp;  SAW a cat&amp;  around here?/%%
            event_user(2)
            con = 204
        }
    }
    if (con == 204)
    {
        selling = 4
        if (!instance_exists(brattywriter))
        {
            global.flag[20] = 5
            global.msg[0] = scr_gettext("obj_shop3_2001") // \E8* Oh!^1!&amp;* JUST the other&amp;  day!/
            global.msg[1] = scr_gettext("obj_shop3_2002") // \E3* There was&amp;  this CUTE&amp;  little white&amp;  cat walking&amp;  around.../
            global.msg[2] = scr_gettext("obj_shop3_2003") // \E4* It was^1, like^1,&amp;  SOOOOOO&amp;  clueless&amp;  looking./
            global.msg[3] = scr_gettext("obj_shop3_2004") // \E1* I pet it&amp;  for like an&amp;  hour!!/%%
            event_user(3)
            con = 205
        }
    }
    if (con == 205)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_2017") // \M5* ....^1.&amp;* ....^1.&amp;* ... Catty^2./*
            event_user(2)
            con = 206
        }
    }
    if (con == 206)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_2028") // \E7* Yeah^1, Bratty?/%%
            event_user(3)
            con = 207
        }
    }
    if (con == 207)
    {
        selling = 4
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.faceemotion = 8
            global.msg[0] = scr_gettext("obj_shop3_2042") // \M1* I think that&amp;  was^1, like..^1.&amp;* A dog^3./*
            event_user(2)
            con = 208
        }
    }
    if (con == 208)
    {
        selling = 4
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_2053") // \E1* DOGS ARE JUST&amp;  FIRM CATS!!!!/%%
            event_user(3)
            con = 114
        }
    }
    if (con == 250)
    {
        selling = 4
        if (brattywriter.halt != false &amp;&amp; cattywriter.halt != false &amp;&amp; control_check_pressed(0))
        {
            control_clear(0)
            with (brattywriter)
                instance_destroy()
            with (cattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_2067") // * If you're&amp;  reading&amp;  this.../*
            event_user(2)
            con = 251
        }
    }
    if (con == 251)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_2077") // \E7* Then^1, like^1,&amp;  bad news you&amp;  mega-evil&amp;  weirdo!/%%
            event_user(3)
            con = 252
        }
    }
    if (con == 252)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_2088") // * Alphys just&amp;  came here&amp;  and she's&amp;  taking us.../*
            event_user(2)
            con = 253
        }
    }
    if (con == 253)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_2098") // \E7* Someplace&amp;  super duper&amp;  safe!/%%
            event_user(3)
            con = 254
        }
    }
    if (con == 254)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_2109") // * But^1, first^1,&amp;  we gotta use&amp;  up these gel&amp;  pens./*
            event_user(2)
            con = 255
        }
    }
    if (con == 255)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_2119") // \E7* Yeah^1!&amp;* Chill^1, Alphys!&amp;* We don't wanna&amp;  waste pens!/%%
            event_user(3)
            con = 256
        }
    }
    if (con == 256)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_2131") // * And don't even&amp;  THINK about&amp;  stealing our&amp;  stuff./*
            event_user(2)
            con = 257
        }
    }
    if (con == 257)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_2141") // * Yeah^1, creep^1!&amp;* Leave our&amp;  junk alone!/%%
            event_user(3)
            con = 258
        }
    }
    if (con == 258)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_2152") // * Catty^1, it's&amp;  not JUNK^1.&amp;* It's really&amp;  valuable./*
            event_user(2)
            con = 259
        }
    }
    if (con == 259)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_2162") // * Yeah^1!&amp;* Our garbage&amp;  is REALLY&amp;  valuable!/%%
            event_user(3)
            con = 260
        }
    }
    if (con == 260)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_2174") // * Anyway^1.&amp;* In closing^1:&amp;* You're a&amp;  total loser!/*
            event_user(2)
            con = 261
        }
    }
    if (con == 261)
    {
        if (instance_exists(brattywriter) &amp;&amp; brattywriter.halt != false)
        {
            global.msg[0] = scr_gettext("obj_shop3_2184") // * Yeah^1!&amp;* Loser!!^1!&amp;* Nya ha ha!!!/%%
            event_user(3)
            con = 262
        }
    }
    if (con == 262)
    {
        if (instance_exists(cattywriter) == 0)
        {
            with (brattywriter)
                instance_destroy()
            global.msg[0] = scr_gettext("obj_shop3_2196") // * Signed^1,&amp;  Bratty &lt;3/*
            event_user(2)
            global.msg[0] = scr_gettext("obj_shop3_2198") // * Signed^1,&amp;  Catty &lt;3/*
            event_user(3)
            con = 998
        }
    }
    if (con == 900 &amp;&amp; brattywriter.halt != false &amp;&amp; cattywriter.halt == 6 &amp;&amp; control_check_pressed(0))
    {
        with (brattywriter)
            instance_destroy()
        cattywriter.halt = true
        with (cattywriter)
            event_user(0)
        con = 901
    }
    if (con == 901 &amp;&amp; (!instance_exists(cattywriter)))
    {
        selling = 1
        con = 0
    }
    if ((con == 998 || con == 999) &amp;&amp; brattywriter.halt != false &amp;&amp; cattywriter.halt != false &amp;&amp; control_check_pressed(0))
    {
        control_clear(0)
        with (brattywriter)
            instance_destroy()
        with (cattywriter)
            instance_destroy()
        if (con == 998)
            selling = 1
        con = 0
    }
    if instance_exists(OBJ_WRITER)
    {
        if control_check_pressed(1)
        {
            with (OBJ_WRITER)
            {
                if (halt == false)
                    stringpos = string_length(originalstring)
                control_clear(1)
            }
        }
    }
    if (selling == 1 &amp;&amp; sell == 2 &amp;&amp; instance_exists(OBJ_WRITER) &amp;&amp; brattywriter.halt != false &amp;&amp; cattywriter.halt != false &amp;&amp; control_check_pressed(0))
    {
        control_clear(0)
        with (brattywriter)
            instance_destroy()
        with (cattywriter)
            instance_destroy()
    }
    if (selling == 1 &amp;&amp; instance_exists(OBJ_WRITER) == 0)
    {
        if (sell == 2)
        {
            selling = 2
            event_user(1)
        }
        else
        {
            if (sell == 1 || sell == 7)
                menu = 0
            else
                menu = 3
            sell = 0
            selling = 0
        }
    }
}
if keyboard_check_pressed(vk_down)
{
    menuc[menu] += 1
    if (menuc[menu] &gt; menumax)
        menuc[menu] = 0
}
if keyboard_check_pressed(vk_up)
{
    menuc[menu] -= 1
    if (menuc[menu] &lt; 0)
        menuc[menu] = menumax
}
if (global.debug == true)
{
    if keyboard_check_pressed(ord("G"))
        global.gold = 5000
    if keyboard_check_pressed(ord("K"))
    {
        audio_stop_all()
        room_goto(room_shop4)
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
